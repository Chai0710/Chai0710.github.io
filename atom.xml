<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Chai&#39;s Blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://chaichai.site/"/>
  <updated>2019-11-20T08:28:52.361Z</updated>
  <id>https://chaichai.site/</id>
  
  <author>
    <name>Chai Wei-Li</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>JS30 Day05 Flex Panels Image Gallery</title>
    <link href="https://chaichai.site/2019/11/19/js30-05/"/>
    <id>https://chaichai.site/2019/11/19/js30-05/</id>
    <published>2019-11-18T16:00:00.000Z</published>
    <updated>2019-11-20T08:28:52.361Z</updated>
    
    <content type="html"><![CDATA[<p>JS30 Day05<br>flex ä¸æ„§ç‚ºæ’ç‰ˆè–å“ï¼Œç°¡å–®æ˜“å­¸æ•ˆæœä½³ã€‚</p><a id="more"></a><hr><h1 id="Flex-Panels-Image-Gallery"><a href="#Flex-Panels-Image-Gallery" class="headerlink" title="Flex Panels Image Gallery"></a>Flex Panels Image Gallery</h1><h2 id="å®Œæˆç›®æ¨™"><a href="#å®Œæˆç›®æ¨™" class="headerlink" title="å®Œæˆç›®æ¨™"></a>å®Œæˆç›®æ¨™</h2><ul><li>åŠŸèƒ½<ul><li>é»æ“ŠæŒ‡å®šçš„å€å¡Šï¼Œç”¢ç”Ÿå‹•ç•«</li><li>å†é»æ“Šä¸€æ¬¡ï¼Œæ¢å¾©åŸç‹€</li></ul></li><li>ç•«é¢<ul><li>æ¨™ç±¤ p ä¸­é–“çš„å­—è®Šå¤§</li><li>è®Šå¤§ä¹‹å¾Œä¸Šä¸‹çš„å­—è¦é€²ä¾†</li></ul></li></ul><br><hr><br><h3 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index-START.html"></a>index-START.html</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Flex Panels ğŸ’ª<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span></span></span><br><span class="line"><span class="tag">      <span class="attr">href</span>=<span class="string">"https://fonts.googleapis.com/css?family=Amatic+SC"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">rel</span>=<span class="string">"stylesheet"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">type</span>=<span class="string">"text/css"</span></span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">      html &#123;</span><br><span class="line">        box-sizing: border-box;</span><br><span class="line">        background: #ffc600;</span><br><span class="line">        font-family: "helvetica neue";</span><br><span class="line">        font-size: 20px;</span><br><span class="line">        font-weight: 200;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      body &#123;</span><br><span class="line">        margin: 0;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      *,</span><br><span class="line">      *:before,</span><br><span class="line">      *:after &#123;</span><br><span class="line">        box-sizing: inherit;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      .panels &#123;</span><br><span class="line">        min-height: 100vh;</span><br><span class="line">        overflow: hidden;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      .panel &#123;</span><br><span class="line">        background: #6b0f9c;</span><br><span class="line">        box-shadow: inset 0 0 0 5px rgba(255, 255, 255, 0.1);</span><br><span class="line">        color: white;</span><br><span class="line">        text-align: center;</span><br><span class="line">        align-items: center;</span><br><span class="line">        /* Safari transitionend event.propertyName === flex */</span><br><span class="line">        /* Chrome + FF transitionend event.propertyName === flex-grow */</span><br><span class="line">        transition: font-size 0.7s cubic-bezier(0.61, -0.19, 0.7, -0.11), flex</span><br><span class="line">            0.7s cubic-bezier(0.61, -0.19, 0.7, -0.11), background 0.2s;</span><br><span class="line">        font-size: 20px;</span><br><span class="line">        background-size: cover;</span><br><span class="line">        background-position: center;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      .panel1 &#123;</span><br><span class="line">        background-image: url(https://source.unsplash.com/gYl-UtwNg_I/1500x1500);</span><br><span class="line">      &#125;</span><br><span class="line">      .panel2 &#123;</span><br><span class="line">        background-image: url(https://source.unsplash.com/rFKUFzjPYiQ/1500x1500);</span><br><span class="line">      &#125;</span><br><span class="line">      .panel3 &#123;</span><br><span class="line">        background-image: url(https://images.unsplash.com/photo-1465188162913-8fb5709d6d57?ixlib=rb-0.3.5&amp;q=80&amp;fm=jpg&amp;crop=faces&amp;cs=tinysrgb&amp;w=1500&amp;h=1500&amp;fit=crop&amp;s=967e8a713a4e395260793fc8c802901d);</span><br><span class="line">      &#125;</span><br><span class="line">      .panel4 &#123;</span><br><span class="line">        background-image: url(https://source.unsplash.com/ITjiVXcwVng/1500x1500);</span><br><span class="line">      &#125;</span><br><span class="line">      .panel5 &#123;</span><br><span class="line">        background-image: url(https://source.unsplash.com/3MNzGlQM7qs/1500x1500);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      /* Flex Children */</span><br><span class="line">      .panel &gt; * &#123;</span><br><span class="line">        margin: 0;</span><br><span class="line">        width: 100%;</span><br><span class="line">        transition: transform 0.5s;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      .panel p &#123;</span><br><span class="line">        text-transform: uppercase;</span><br><span class="line">        font-family: "Amatic SC", cursive;</span><br><span class="line">        text-shadow: 0 0 4px rgba(0, 0, 0, 0.72), 0 0 14px rgba(0, 0, 0, 0.45);</span><br><span class="line">        font-size: 2em;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      .panel p:nth-child(2) &#123;</span><br><span class="line">        font-size: 4em;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      .panel.open &#123;</span><br><span class="line">        font-size: 40px;</span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panels"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panel panel1"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Hey<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Let's<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Dance<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panel panel2"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Give<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Take<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Receive<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panel panel3"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Experience<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>It<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Today<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panel panel4"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Give<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>All<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>You can<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panel panel5"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Life<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>In<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Motion<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><br><h3 id="index-FINISHED-html"><a href="#index-FINISHED-html" class="headerlink" title="index-FINISHED.html"></a>index-FINISHED.html</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Flex Panels ğŸ’ª<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span></span></span><br><span class="line"><span class="tag">      <span class="attr">href</span>=<span class="string">"https://fonts.googleapis.com/css?family=Amatic+SC"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">rel</span>=<span class="string">"stylesheet"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">type</span>=<span class="string">"text/css"</span></span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">      html &#123;</span><br><span class="line">        box-sizing: border-box;</span><br><span class="line">        background: #ffc600;</span><br><span class="line">        font-family: "helvetica neue";</span><br><span class="line">        font-size: 20px;</span><br><span class="line">        font-weight: 200;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      body &#123;</span><br><span class="line">        margin: 0;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      *,</span><br><span class="line">      *:before,</span><br><span class="line">      *:after &#123;</span><br><span class="line">        box-sizing: inherit;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      .panels &#123;</span><br><span class="line">        min-height: 100vh;</span><br><span class="line">        overflow: hidden;</span><br><span class="line">        display: flex;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      .panel &#123;</span><br><span class="line">        background: #6b0f9c;</span><br><span class="line">        box-shadow: inset 0 0 0 5px rgba(255, 255, 255, 0.1);</span><br><span class="line">        color: white;</span><br><span class="line">        text-align: center;</span><br><span class="line">        align-items: center;</span><br><span class="line">        /* Safari transitionend event.propertyName === flex */</span><br><span class="line">        /* Chrome + FF transitionend event.propertyName === flex-grow */</span><br><span class="line">        transition: font-size 0.7s cubic-bezier(0.61, -0.19, 0.7, -0.11), flex</span><br><span class="line">            0.7s cubic-bezier(0.61, -0.19, 0.7, -0.11), background 0.2s;</span><br><span class="line">        font-size: 20px;</span><br><span class="line">        background-size: cover;</span><br><span class="line">        background-position: center;</span><br><span class="line">        flex: 1;</span><br><span class="line">        justify-content: center;</span><br><span class="line">        display: flex;</span><br><span class="line">        flex-direction: column;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      .panel1 &#123;</span><br><span class="line">        background-image: url(https://source.unsplash.com/gYl-UtwNg_I/1500x1500);</span><br><span class="line">      &#125;</span><br><span class="line">      .panel2 &#123;</span><br><span class="line">        background-image: url(https://source.unsplash.com/rFKUFzjPYiQ/1500x1500);</span><br><span class="line">      &#125;</span><br><span class="line">      .panel3 &#123;</span><br><span class="line">        background-image: url(https://images.unsplash.com/photo-1465188162913-8fb5709d6d57?ixlib=rb-0.3.5&amp;q=80&amp;fm=jpg&amp;crop=faces&amp;cs=tinysrgb&amp;w=1500&amp;h=1500&amp;fit=crop&amp;s=967e8a713a4e395260793fc8c802901d);</span><br><span class="line">      &#125;</span><br><span class="line">      .panel4 &#123;</span><br><span class="line">        background-image: url(https://source.unsplash.com/ITjiVXcwVng/1500x1500);</span><br><span class="line">      &#125;</span><br><span class="line">      .panel5 &#123;</span><br><span class="line">        background-image: url(https://source.unsplash.com/3MNzGlQM7qs/1500x1500);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      /* Flex Items */</span><br><span class="line">      .panel &gt; * &#123;</span><br><span class="line">        margin: 0;</span><br><span class="line">        width: 100%;</span><br><span class="line">        transition: transform 0.5s;</span><br><span class="line">        flex: 1 0 auto;</span><br><span class="line">        display: flex;</span><br><span class="line">        justify-content: center;</span><br><span class="line">        align-items: center;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      .panel &gt; *:first-child &#123;</span><br><span class="line">        transform: translateY(-100%);</span><br><span class="line">      &#125;</span><br><span class="line">      .panel.open-active &gt; *:first-child &#123;</span><br><span class="line">        transform: translateY(0);</span><br><span class="line">      &#125;</span><br><span class="line">      .panel &gt; *:last-child &#123;</span><br><span class="line">        transform: translateY(100%);</span><br><span class="line">      &#125;</span><br><span class="line">      .panel.open-active &gt; *:last-child &#123;</span><br><span class="line">        transform: translateY(0);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      .panel p &#123;</span><br><span class="line">        text-transform: uppercase;</span><br><span class="line">        font-family: "Amatic SC", cursive;</span><br><span class="line">        text-shadow: 0 0 4px rgba(0, 0, 0, 0.72), 0 0 14px rgba(0, 0, 0, 0.45);</span><br><span class="line">        font-size: 2em;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      .panel p:nth-child(2) &#123;</span><br><span class="line">        font-size: 4em;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      .panel.open &#123;</span><br><span class="line">        flex: 5;</span><br><span class="line">        font-size: 40px;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      @media only screen and (max-width: 600px) &#123;</span><br><span class="line">        .panel p &#123;</span><br><span class="line">          font-size: 1em;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panels"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panel panel1"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Hey<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Let's<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Dance<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panel panel2"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Give<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Take<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Receive<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panel panel3"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Experience<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>It<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Today<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panel panel4"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Give<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>All<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>You can<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panel panel5"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Life<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>In<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Motion<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">      const panels = document.querySelectorAll(".panel");</span><br><span class="line"></span><br><span class="line">      function toggleOpen() &#123;</span><br><span class="line">        console.log("Hello");</span><br><span class="line">        this.classList.toggle("open");</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      function toggleActive(e) &#123;</span><br><span class="line">        console.log(e.propertyName);</span><br><span class="line">        if (e.propertyName.includes("flex")) &#123;</span><br><span class="line">          this.classList.toggle("open-active");</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      panels.forEach(panel =&gt; panel.addEventListener("click", toggleOpen));</span><br><span class="line">      panels.forEach(panel =&gt;</span><br><span class="line">        panel.addEventListener("transitionend", toggleActive)</span><br><span class="line">      );</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><br><hr><br><h2 id="å­¸ç¿’ç­†è¨˜"><a href="#å­¸ç¿’ç­†è¨˜" class="headerlink" title="å­¸ç¿’ç­†è¨˜"></a>å­¸ç¿’ç­†è¨˜</h2><br><h4 id="â˜…-Flexbox"><a href="#â˜…-Flexbox" class="headerlink" title="â˜… Flexbox"></a>â˜… Flexbox</h4><p>CSS3 flexbox æ˜¯ç‚ºäº†é©æ‡‰ä¸åŒè¢å¹•å°ºå¯¸å’Œé¡¯ç¤ºè¨­å‚™è€Œç”Ÿçš„æ’ç‰ˆæ¨¡å¼ã€‚åˆ©ç”¨ flexbox å¯ä»¥æ›´è¼•é¬†åœ°è¨­è¨ˆéˆæ´»çš„éŸ¿æ‡‰å¼æ’ç‰ˆï¼Œå–ä»£ float æˆ– position å±¬æ€§ã€‚</p><p>flex æ’ç‰ˆçš„å¤§è‡´å®šç¾©ï¼Œæ˜¯èƒ½æ›´æ”¹è©²é …ç›®çš„é•·èˆ‡ï¼ˆæˆ–ï¼‰é«˜ï¼Œä»¥ä¾¿è²¼åˆä»»ä½•é¡¯ç¤ºè¨­å‚™çš„ç©ºé–“ã€‚flex container èƒ½é‡å°è©²å…ƒä»¶æ“´å¼µä»¥ä¾¿å¡«è£œå¯ç”¨çš„ç©ºé–“ã€æˆ–æ”¶ç¸®ä»¥ä¾¿é˜»æ­¢ç©ºé–“æº¢å‡ºã€‚block layout ä»¥å‚ç›´æ–¹å‘ç‚ºæº–ã€inline layout ä»¥æ°´å¹³æ–¹å‘ç‚ºæº–ã€è€Œ flexbox layout å‰‡åŒæ™‚å…è¨±é€™å…©ç¨®ã€‚<br><br></p><ul><li><strong>Flexbox element</strong></li></ul><p>è¦é–‹å§‹ä½¿ç”¨ flexbox ï¼Œé¦–å…ˆéœ€è¦å®šç¾© flex container ä»¥åŠ flex items</p><ul><li><p>flex containerï¼š</p><p>åŒ…ä½ flex item çš„çˆ¶å…ƒç´ ã€‚å±¬æ€§ç‚º <code>display: flex</code> æˆ– <code>display: inline-flex</code> çš„ï¼Œå°±æ˜¯ flex containerã€‚</p></li><li><p>flex itemsï¼š</p><p>æ‰€æœ‰ flex container çš„å­å…ƒç´ éƒ½æœƒè®Šæˆ flex itemsã€‚ç›´æ¥åŒ…å«åœ¨ flex container å…§çš„æ–‡å­—ï¼Œæœƒè¢«åŒ…è£æˆåŒ¿åçš„ flex itemsã€‚</p></li></ul><p>ç¯„ä¾‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">      .flex-container &#123;</span><br><span class="line">        display: flex;</span><br><span class="line">        background-color: Blue;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      .flex-container &gt; div &#123;</span><br><span class="line">        background-color: #fff;</span><br><span class="line">        margin: 10px;</span><br><span class="line">        padding: 20px;</span><br><span class="line">        font-size: 30px;</span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"flex-container"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><br><ul><li><strong>Axes</strong></li></ul><p>æ‰€æœ‰ flexbox çš„å¸ƒå±€éƒ½æœ‰å…©å€‹è»¸ï¼Œmain axis æ˜¯è·Ÿéš¨è‘— flex items é †åºçš„è»¸ã€è€Œ cross axis æ˜¯å‚ç›´æ–¼ä¸»è»¸çš„è»¸ã€‚</p><ul><li><code>flex-direction</code> å±¬æ€§å•Ÿç”¨ä¸»è»¸ã€‚</li><li><code>justify-content</code> å±¬æ€§å®šç¾©ç›®å‰ flex items çš„ä¸»è»¸å¦‚ä½•æ“ºæ”¾ã€‚</li><li><code>align-items</code> å±¬æ€§å®šç¾©ç›®å‰ flex items çš„ cross axis å¦‚ä½•æ“ºæ”¾ã€‚</li><li><code>align-self</code> å±¬æ€§å®šç¾©ç›®å‰å–®ä¸€ flex items å¦‚ä½•å°é½Šã€‚é€™å€‹è¨­å®šæœƒè¦†è“‹ <code>align-items</code> çš„é è¨­å€¼ã€‚</li></ul><br><ul><li><p><strong>Directions</strong></p><p>flexbox çš„ main start/main end èˆ‡ cross start/cross end sides æè¿°äº† flex items flow çš„èµ·é»èˆ‡çµ‚é»ã€‚å®ƒå€‘è·Ÿéš¨è‘—ç”± <code>writing-mode</code> æ‰€å»ºç«‹çš„å‘é‡ä¸­ï¼Œflex container çš„ main axis èˆ‡ cross axis æ’åˆ—ï¼ˆå·¦è‡³å³æˆ–å³è‡³å·¦ç­‰ç­‰ï¼‰ã€‚</p><ul><li><code>order</code> å°‡å…ƒç´ æŒ‰é †åºæ’åˆ—ï¼Œä¸¦æ±ºå®šå“ªäº›å…ƒç´ é¦–å…ˆå‡ºç¾ã€‚</li><li><code>flex-flow</code> å±¬æ€§æ˜¯ <code>flex-direction</code> èˆ‡ <code>flex-wrap</code> å±¬æ€§çš„ç°¡å¯«ï¼Œæè¿°äº† flex items çš„æ•´é«”å¸ƒå±€ã€‚</li></ul></li></ul><br><ul><li><p><strong>Lines</strong></p><p>æ ¹æ“š <code>flex-wrap</code> å±¬æ€§ï¼Œå¯ä»¥å°‡ flex items æ’åˆ—åœ¨ä¸€è¡Œæˆ–å¤šè¡Œä¸Šï¼Œè©²å±¬æ€§æ§åˆ¶æ©«è»¸çš„æ–¹å‘å’Œå¤šè¡Œçš„å †ç–Šæ–¹å‘ã€‚</p></li></ul><br><ul><li><p><strong>Dimensions</strong></p><p>flex items çš„é«˜åº¦å’Œå¯¬åº¦åˆ†åˆ¥ä¾æ“š flex container çš„ main axis å’Œ cross axisã€‚</p><ul><li>min-height å’Œ min-width å±¬æ€§çš„åˆå§‹å€¼ç‚º 0ã€‚</li><li>flex å±¬æ€§æ˜¯ <code>flex-grow</code>ã€<code>flex-shrink</code>ã€<code>flex-basis</code> å±¬æ€§çš„ç°¡å¯«ï¼Œå¯ä»¥å»ºç«‹ flex items çš„éˆæ´»æ€§ã€‚</li></ul></li></ul><br><h4 id="â˜…-querySelectorAll"><a href="#â˜…-querySelectorAll" class="headerlink" title="â˜… querySelectorAll()"></a>â˜… querySelectorAll()</h4><p><code>querySelectorAll()</code> è¿”å›æŒ‡å®šçš„ CSS é¸æ“‡å™¨çš„æ‰€æœ‰å…ƒç´ ï¼ˆNodeList ç‰©ä»¶ï¼‰ã€‚</p><ul><li><code>querySelectorAll()</code> èˆ‡ <code>querySelector()</code> çš„å·®ç•°ï¼š<ul><li>querySelector åªè¿”å›åŒ¹é…çš„ç¬¬ä¸€å€‹å…ƒç´ ï¼Œå¦‚æœæ²’æœ‰åŒ¹é…é …ç›®ï¼Œè¿”å› nullã€‚</li><li>querySelectorAll è¿”å›åŒ¹é…çš„å…ƒç´ é›†åˆï¼Œå¦‚æœæ²’æœ‰åŒ¹é…é …ï¼Œè¿”å›ç©ºçš„ NodeListã€‚</li><li>é€™å…©å€‹æ–¹æ³•éƒ½å¯ä»¥æ¥å—ä¸‰ç¨®å‹åˆ¥çš„å¼•æ•¸ï¼šid(#)ã€class(.)ã€tagï¼Œå¾ˆåƒ jQuery çš„é¸æ“‡å™¨ã€‚</li></ul></li></ul><p>ç¯„ä¾‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">"test"</span>&gt;</span>class="test" çš„æ¨™é¡Œ<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"test"</span>&gt;</span>class="test" çš„æ®µè½<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"myFunction()"</span>&gt;</span>é»æ“Š<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">      // é»æ“Šå¾Œï¼Œclass="test"çš„ç¬¬ä¸€å€‹å…ƒç´ æ”¹è®Šé¡è‰²ã€‚</span><br><span class="line">      function myFunction() &#123;</span><br><span class="line">        let x = document.querySelectorAll(".test");</span><br><span class="line">        x[0].style.backgroundColor = "yellow";</span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><br><h4 id="â˜…-forEach"><a href="#â˜…-forEach" class="headerlink" title="â˜… forEach()"></a>â˜… forEach()</h4><p><code>forEach()</code> æ–¹æ³•æœƒå°‡é™£åˆ—å…§çš„æ¯å€‹å…ƒç´ ï¼Œçš†å‚³å…¥ä¸¦åŸ·è¡Œçµ¦å®šçš„å‡½å¼ä¸€æ¬¡ã€‚</p><p>ç¯„ä¾‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="string">"Chai"</span>, <span class="string">"Jay"</span>, <span class="string">"Kawa"</span>, <span class="string">"Annie"</span>];</span><br><span class="line"></span><br><span class="line">array1.forEach(<span class="function"><span class="params">x</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">`super cute <span class="subst">$&#123;x&#125;</span>`</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// "super cute Chai" "super cute Jay" "super cute Kawa" "super cute Annie"</span></span><br></pre></td></tr></table></figure><p>è¼¸å‡ºçµæœçœ‹èµ·ä¾†ä¼¼ä¹æœ‰é»çœ¼ç†Ÿï¼Œè·Ÿ Day04 <code>Array.map()</code> å¹¾ä¹ä¸€æ¨¡ä¸€æ¨£ã€‚</p><ul><li><p>é‚£ <code>forEach()</code> è·Ÿ <code>map()</code> æ–¹æ³•æœ‰ä»€éº¼ä¸ä¸€æ¨£å‘¢ï¼Ÿ</p><ul><li><p><code>map()</code> æœƒåˆ†é…å…§å­˜ç©ºé–“å„²å­˜æ–° Arrayï¼Œä¸¦è¿”å›ã€‚</p><p><code>map()</code> é©ç”¨æ–¼éœ€è¦æ”¹è®Šæ•¸å€¼æ™‚ã€‚æ•ˆèƒ½è¼ƒ <code>forEach()</code> é«˜ï¼Œä¸”èƒ½å¤ ä½¿ç”¨è¤‡åˆæŠ€ï¼š<code>map()</code>ã€<code>filter()</code>ã€<code>reduce()</code> ç­‰çµ„åˆã€‚</p></li><li><p><code>forEach()</code> å…è¨± <code>callback</code> æ›´æ”¹åŸå§‹ Array çš„å…ƒç´ ï¼Œä¸æœƒè¿”å›æ–°çš„ Arrayã€‚</p><p><code>forEach()</code> é©ç”¨æ–¼ä¸æ‰“ç®—æ”¹è®Šæ•¸æ“šçš„æ™‚å€™ï¼Œåªæ˜¯æƒ³ç”¨æ•¸æ“šåšä¸€äº›äº‹æƒ…ï¼Œæ¯”å¦‚å­˜å…¥æ•¸æ“šåº«æˆ–å°å‡ºä¾†ã€‚</p></li></ul></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;JS30 Day05&lt;br&gt;flex ä¸æ„§ç‚ºæ’ç‰ˆè–å“ï¼Œç°¡å–®æ˜“å­¸æ•ˆæœä½³ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="JS30" scheme="https://chaichai.site/categories/JS30/"/>
    
    
      <category term="ç¨‹å¼ç­†è¨˜" scheme="https://chaichai.site/tags/%E7%A8%8B%E5%BC%8F%E7%AD%86%E8%A8%98/"/>
    
      <category term="Javascript" scheme="https://chaichai.site/tags/Javascript/"/>
    
      <category term="JS30" scheme="https://chaichai.site/tags/JS30/"/>
    
  </entry>
  
  <entry>
    <title>JS30 Day04 Array Cardio Day 1</title>
    <link href="https://chaichai.site/2019/11/17/js30-04/"/>
    <id>https://chaichai.site/2019/11/17/js30-04/</id>
    <published>2019-11-16T16:00:00.000Z</published>
    <updated>2019-11-17T15:23:50.686Z</updated>
    
    <content type="html"><![CDATA[<p>JS30 Day04<br>å° JS æ–°æ‰‹ä¾†èªªï¼Œé€™å ‚èª²éå¸¸é‡è¦ã€‚å­¸æœƒ Array çš„å„ç¨®æ–¹æ³•ï¼Œå°±å¯ä»¥è§£æ±ºå¤§éƒ¨åˆ†çš„å•é¡Œï¼</p><a id="more"></a><hr><h1 id="Array-Cardio-Day-1"><a href="#Array-Cardio-Day-1" class="headerlink" title="Array Cardio Day 1"></a>Array Cardio Day 1</h1><h2 id="å®Œæˆç›®æ¨™"><a href="#å®Œæˆç›®æ¨™" class="headerlink" title="å®Œæˆç›®æ¨™"></a>å®Œæˆç›®æ¨™</h2><p>ä»Šæ—¥çš„ä¸»é¡Œèˆ‡å‘ˆç¾æ¼‚äº®çš„ç•«é¢ç„¡é—œï¼Œè€Œæ˜¯å­¸ç¿’ JavaScript ä¸­å¸¸è¦‹çš„ Array æ–¹æ³•ã€‚</p><br><hr><br><h3 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index-START.html"></a>index-START.html</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Array Cardio ğŸ’ª<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">em</span>&gt;</span>Psst: have a look at the JavaScript Console<span class="tag">&lt;/<span class="name">em</span>&gt;</span> ğŸ’<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">      // Get your shorts on - this is an array workout!</span><br><span class="line">      // ## Array Cardio Day 1</span><br><span class="line"></span><br><span class="line">      // Some data we can work with</span><br><span class="line"></span><br><span class="line">      const inventors = [</span><br><span class="line">        &#123; first: "Albert", last: "Einstein", year: 1879, passed: 1955 &#125;,</span><br><span class="line">        &#123; first: "Isaac", last: "Newton", year: 1643, passed: 1727 &#125;,</span><br><span class="line">        &#123; first: "Galileo", last: "Galilei", year: 1564, passed: 1642 &#125;,</span><br><span class="line">        &#123; first: "Marie", last: "Curie", year: 1867, passed: 1934 &#125;,</span><br><span class="line">        &#123; first: "Johannes", last: "Kepler", year: 1571, passed: 1630 &#125;,</span><br><span class="line">        &#123; first: "Nicolaus", last: "Copernicus", year: 1473, passed: 1543 &#125;,</span><br><span class="line">        &#123; first: "Max", last: "Planck", year: 1858, passed: 1947 &#125;,</span><br><span class="line">        &#123; first: "Katherine", last: "Blodgett", year: 1898, passed: 1979 &#125;,</span><br><span class="line">        &#123; first: "Ada", last: "Lovelace", year: 1815, passed: 1852 &#125;,</span><br><span class="line">        &#123; first: "Sarah E.", last: "Goode", year: 1855, passed: 1905 &#125;,</span><br><span class="line">        &#123; first: "Lise", last: "Meitner", year: 1878, passed: 1968 &#125;,</span><br><span class="line">        &#123; first: "Hanna", last: "HammarstrÃ¶m", year: 1829, passed: 1909 &#125;</span><br><span class="line">      ];</span><br><span class="line"></span><br><span class="line">      const people = [</span><br><span class="line">        "Beck, Glenn",</span><br><span class="line">        "Becker, Carl",</span><br><span class="line">        "Beckett, Samuel",</span><br><span class="line">        "Beddoes, Mick",</span><br><span class="line">        "Beecher, Henry",</span><br><span class="line">        "Beethoven, Ludwig",</span><br><span class="line">        "Begin, Menachem",</span><br><span class="line">        "Belloc, Hilaire",</span><br><span class="line">        "Bellow, Saul",</span><br><span class="line">        "Benchley, Robert",</span><br><span class="line">        "Benenson, Peter",</span><br><span class="line">        "Ben-Gurion, David",</span><br><span class="line">        "Benjamin, Walter",</span><br><span class="line">        "Benn, Tony",</span><br><span class="line">        "Bennington, Chester",</span><br><span class="line">        "Benson, Leana",</span><br><span class="line">        "Bent, Silas",</span><br><span class="line">        "Bentsen, Lloyd",</span><br><span class="line">        "Berger, Ric",</span><br><span class="line">        "Bergman, Ingmar",</span><br><span class="line">        "Berio, Luciano",</span><br><span class="line">        "Berle, Milton",</span><br><span class="line">        "Berlin, Irving",</span><br><span class="line">        "Berne, Eric",</span><br><span class="line">        "Bernhard, Sandra",</span><br><span class="line">        "Berra, Yogi",</span><br><span class="line">        "Berry, Halle",</span><br><span class="line">        "Berry, Wendell",</span><br><span class="line">        "Bethea, Erin",</span><br><span class="line">        "Bevan, Aneurin",</span><br><span class="line">        "Bevel, Ken",</span><br><span class="line">        "Biden, Joseph",</span><br><span class="line">        "Bierce, Ambrose",</span><br><span class="line">        "Biko, Steve",</span><br><span class="line">        "Billings, Josh",</span><br><span class="line">        "Biondo, Frank",</span><br><span class="line">        "Birrell, Augustine",</span><br><span class="line">        "Black, Elk",</span><br><span class="line">        "Blair, Robert",</span><br><span class="line">        "Blair, Tony",</span><br><span class="line">        "Blake, William"</span><br><span class="line">      ];</span><br><span class="line"></span><br><span class="line">      // Array.prototype.filter()</span><br><span class="line">      // 1. Filter the list of inventors for those who were born in the 1500's</span><br><span class="line"></span><br><span class="line">      // Array.prototype.map()</span><br><span class="line">      // 2. Give us an array of the inventors' first and last names</span><br><span class="line"></span><br><span class="line">      // Array.prototype.sort()</span><br><span class="line">      // 3. Sort the inventors by birthdate, oldest to youngest</span><br><span class="line"></span><br><span class="line">      // Array.prototype.reduce()</span><br><span class="line">      // 4. How many years did all the inventors live?</span><br><span class="line"></span><br><span class="line">      // 5. Sort the inventors by years lived</span><br><span class="line"></span><br><span class="line">      // 6. create a list of Boulevards in Paris that contain 'de' anywhere in the name</span><br><span class="line">      // https://en.wikipedia.org/wiki/Category:Boulevards_in_Paris</span><br><span class="line"></span><br><span class="line">      // 7. sort Exercise</span><br><span class="line">      // Sort the people alphabetically by last name</span><br><span class="line"></span><br><span class="line">      // 8. Reduce Exercise</span><br><span class="line">      // Sum up the instances of each of these</span><br><span class="line">      const data = [</span><br><span class="line">        "car",</span><br><span class="line">        "car",</span><br><span class="line">        "truck",</span><br><span class="line">        "truck",</span><br><span class="line">        "bike",</span><br><span class="line">        "walk",</span><br><span class="line">        "car",</span><br><span class="line">        "van",</span><br><span class="line">        "bike",</span><br><span class="line">        "walk",</span><br><span class="line">        "car",</span><br><span class="line">        "van",</span><br><span class="line">        "car",</span><br><span class="line">        "truck"</span><br><span class="line">      ];</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><br><h3 id="index-FINISHED-html"><a href="#index-FINISHED-html" class="headerlink" title="index-FINISHED.html"></a>index-FINISHED.html</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Array Cardio ğŸ’ª<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">em</span>&gt;</span>Psst: have a look at the JavaScript Console<span class="tag">&lt;/<span class="name">em</span>&gt;</span> ğŸ’<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">      // Get your shorts on - this is an array workout!</span><br><span class="line">      // ## Array Cardio Day 1</span><br><span class="line"></span><br><span class="line">      // Some data we can work with</span><br><span class="line"></span><br><span class="line">      const inventors = [</span><br><span class="line">        &#123; first: "Albert", last: "Einstein", year: 1879, passed: 1955 &#125;,</span><br><span class="line">        &#123; first: "Isaac", last: "Newton", year: 1643, passed: 1727 &#125;,</span><br><span class="line">        &#123; first: "Galileo", last: "Galilei", year: 1564, passed: 1642 &#125;,</span><br><span class="line">        &#123; first: "Marie", last: "Curie", year: 1867, passed: 1934 &#125;,</span><br><span class="line">        &#123; first: "Johannes", last: "Kepler", year: 1571, passed: 1630 &#125;,</span><br><span class="line">        &#123; first: "Nicolaus", last: "Copernicus", year: 1473, passed: 1543 &#125;,</span><br><span class="line">        &#123; first: "Max", last: "Planck", year: 1858, passed: 1947 &#125;,</span><br><span class="line">        &#123; first: "Katherine", last: "Blodgett", year: 1898, passed: 1979 &#125;,</span><br><span class="line">        &#123; first: "Ada", last: "Lovelace", year: 1815, passed: 1852 &#125;,</span><br><span class="line">        &#123; first: "Sarah E.", last: "Goode", year: 1855, passed: 1905 &#125;,</span><br><span class="line">        &#123; first: "Lise", last: "Meitner", year: 1878, passed: 1968 &#125;,</span><br><span class="line">        &#123; first: "Hanna", last: "HammarstrÃ¶m", year: 1829, passed: 1909 &#125;</span><br><span class="line">      ];</span><br><span class="line"></span><br><span class="line">      const people = [</span><br><span class="line">        "Beck, Glenn",</span><br><span class="line">        "Becker, Carl",</span><br><span class="line">        "Beckett, Samuel",</span><br><span class="line">        "Beddoes, Mick",</span><br><span class="line">        "Beecher, Henry",</span><br><span class="line">        "Beethoven, Ludwig",</span><br><span class="line">        "Begin, Menachem",</span><br><span class="line">        "Belloc, Hilaire",</span><br><span class="line">        "Bellow, Saul",</span><br><span class="line">        "Benchley, Robert",</span><br><span class="line">        "Benenson, Peter",</span><br><span class="line">        "Ben-Gurion, David",</span><br><span class="line">        "Benjamin, Walter",</span><br><span class="line">        "Benn, Tony",</span><br><span class="line">        "Bennington, Chester",</span><br><span class="line">        "Benson, Leana",</span><br><span class="line">        "Bent, Silas",</span><br><span class="line">        "Bentsen, Lloyd",</span><br><span class="line">        "Berger, Ric",</span><br><span class="line">        "Bergman, Ingmar",</span><br><span class="line">        "Berio, Luciano",</span><br><span class="line">        "Berle, Milton",</span><br><span class="line">        "Berlin, Irving",</span><br><span class="line">        "Berne, Eric",</span><br><span class="line">        "Bernhard, Sandra",</span><br><span class="line">        "Berra, Yogi",</span><br><span class="line">        "Berry, Halle",</span><br><span class="line">        "Berry, Wendell",</span><br><span class="line">        "Bethea, Erin",</span><br><span class="line">        "Bevan, Aneurin",</span><br><span class="line">        "Bevel, Ken",</span><br><span class="line">        "Biden, Joseph",</span><br><span class="line">        "Bierce, Ambrose",</span><br><span class="line">        "Biko, Steve",</span><br><span class="line">        "Billings, Josh",</span><br><span class="line">        "Biondo, Frank",</span><br><span class="line">        "Birrell, Augustine",</span><br><span class="line">        "Black Elk",</span><br><span class="line">        "Blair, Robert",</span><br><span class="line">        "Blair, Tony",</span><br><span class="line">        "Blake, William"</span><br><span class="line">      ];</span><br><span class="line"></span><br><span class="line">      // Array.prototype.filter()</span><br><span class="line">      // 1. Filter the list of inventors for those who were born in the 1500's</span><br><span class="line">      const fifteen = inventors.filter(</span><br><span class="line">        inventor =&gt; inventor.year &gt;= 1500 &amp;&amp; inventor.year &lt; 1600</span><br><span class="line">      );</span><br><span class="line"></span><br><span class="line">      console.table(fifteen);</span><br><span class="line"></span><br><span class="line">      // Array.prototype.map()</span><br><span class="line">      // 2. Give us an array of the inventor first and last names</span><br><span class="line">      const fullNames = inventors.map(</span><br><span class="line">        inventor =&gt; `$&#123;inventor.first&#125; $&#123;inventor.last&#125;`</span><br><span class="line">      );</span><br><span class="line">      console.log(fullNames);</span><br><span class="line"></span><br><span class="line">      // Array.prototype.sort()</span><br><span class="line">      // 3. Sort the inventors by birthdate, oldest to youngest</span><br><span class="line">      // const ordered = inventors.sort(function(a, b) &#123;</span><br><span class="line">      //   if(a.year &gt; b.year) &#123;</span><br><span class="line">      //     return 1;</span><br><span class="line">      //   &#125; else &#123;</span><br><span class="line">      //     return -1;</span><br><span class="line">      //   &#125;</span><br><span class="line">      // &#125;);</span><br><span class="line"></span><br><span class="line">      const ordered = inventors.sort((a, b) =&gt; (a.year &gt; b.year ? 1 : -1));</span><br><span class="line">      console.table(ordered);</span><br><span class="line"></span><br><span class="line">      // Array.prototype.reduce()</span><br><span class="line">      // 4. How many years did all the inventors live?</span><br><span class="line">      const totalYears = inventors.reduce((total, inventor) =&gt; &#123;</span><br><span class="line">        return total + (inventor.passed - inventor.year);</span><br><span class="line">      &#125;, 0);</span><br><span class="line"></span><br><span class="line">      console.log(totalYears);</span><br><span class="line"></span><br><span class="line">      // 5. Sort the inventors by years lived</span><br><span class="line">      const oldest = inventors.sort(function(a, b) &#123;</span><br><span class="line">        const lastInventor = a.passed - a.year;</span><br><span class="line">        const nextInventor = b.passed - b.year;</span><br><span class="line">        return lastInventor &gt; nextInventor ? -1 : 1;</span><br><span class="line">      &#125;);</span><br><span class="line">      console.table(oldest);</span><br><span class="line"></span><br><span class="line">      // 6. create a list of Boulevards in Paris that contain 'de' anywhere in the name</span><br><span class="line">      // https://en.wikipedia.org/wiki/Category:Boulevards_in_Paris</span><br><span class="line"></span><br><span class="line">      // const category = document.querySelector('.mw-category');</span><br><span class="line">      // const links = Array.from(category.querySelectorAll('a'));</span><br><span class="line">      // const de = links</span><br><span class="line">      //             .map(link =&gt; link.textContent)</span><br><span class="line">      //             .filter(streetName =&gt; streetName.includes('de'));</span><br><span class="line"></span><br><span class="line">      // 7. sort Exercise</span><br><span class="line">      // Sort the people alphabetically by last name</span><br><span class="line">      const alpha = people.sort((lastOne, nextOne) =&gt; &#123;</span><br><span class="line">        const [aLast, aFirst] = lastOne.split(", ");</span><br><span class="line">        const [bLast, bFirst] = nextOne.split(", ");</span><br><span class="line">        return aLast &gt; bLast ? 1 : -1;</span><br><span class="line">      &#125;);</span><br><span class="line">      console.log(alpha);</span><br><span class="line"></span><br><span class="line">      // 8. Reduce Exercise</span><br><span class="line">      // Sum up the instances of each of these</span><br><span class="line">      const data = [</span><br><span class="line">        "car",</span><br><span class="line">        "car",</span><br><span class="line">        "truck",</span><br><span class="line">        "truck",</span><br><span class="line">        "bike",</span><br><span class="line">        "walk",</span><br><span class="line">        "car",</span><br><span class="line">        "van",</span><br><span class="line">        "bike",</span><br><span class="line">        "walk",</span><br><span class="line">        "car",</span><br><span class="line">        "van",</span><br><span class="line">        "car",</span><br><span class="line">        "truck",</span><br><span class="line">        "pogostick"</span><br><span class="line">      ];</span><br><span class="line"></span><br><span class="line">      const transportation = data.reduce(function(obj, item) &#123;</span><br><span class="line">        if (!obj[item]) &#123;</span><br><span class="line">          obj[item] = 0;</span><br><span class="line">        &#125;</span><br><span class="line">        obj[item]++;</span><br><span class="line">        return obj;</span><br><span class="line">      &#125;, &#123;&#125;);</span><br><span class="line"></span><br><span class="line">      console.log(transportation);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><br><hr><br><h2 id="å­¸ç¿’ç­†è¨˜"><a href="#å­¸ç¿’ç­†è¨˜" class="headerlink" title="å­¸ç¿’ç­†è¨˜"></a>å­¸ç¿’ç­†è¨˜</h2><br><h4 id="â˜…-console-table"><a href="#â˜…-console-table" class="headerlink" title="â˜… console.table()"></a>â˜… console.table()</h4><p><code>console.table()</code> å¯ä»¥ä½¿è³‡æ–™ä»¥è¡¨æ ¼çš„æ–¹å¼å‘ˆç¾ã€‚</p><p>ç¯„ä¾‹ï¼š</p><p>å‡è¨­æœ‰å€‹é™£åˆ— people</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> people = [</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">"Chai"</span>, <span class="attr">favorites</span>: <span class="string">"dessert"</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">"Jay"</span>, <span class="attr">favorites</span>: <span class="string">"novel"</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">"Kawa"</span>, <span class="attr">favorites</span>: <span class="string">"baseball"</span> &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure><ul><li><p>ä½¿ç”¨ <code>console.log(people)</code> è¼¸å‡ºï¼Œæœƒå¾—åˆ°é€™æ¨£çš„æ¨¹ç‹€çµæ§‹</p><br><img src="https://lh3.googleusercontent.com/TgTKxl1Brro_8IH3hY21ZfBoTQT7_n8lWEHd6xPQGVsTQAnXe2v7nb7C_SMbFkSUs4mhvFHfW6Y0gWEzw1ONxvfEElDd3ZfFJQjWAEn9kH1vOCp8X9UxEI4lzetd8ZbnL1j8BGIO_A=w1200" alt="console.log(people)"><br></li><li><p>ä½¿ç”¨ <code>console.table(people)</code> è¼¸å‡ºï¼Œå‰‡æœƒå¾—åˆ°æ•´é½Šçš„è¡¨æ ¼</p><br><img src="https://lh3.googleusercontent.com/1tiNMda7OvpTkd55GT-o1B1PiyC8FpqfB9KUMyyLLsGtPLMKVUSNnrRZqiobk8xw5Wmk_8_lGXQtqNYfButvs7VXm43eRhMIoUh2NBUSi3CGXbfv1OeBzuWta4Qlmft8r_SR0fO-Tg=w1200" alt="console.table(people)"><br></li></ul><p>ï¼Šé™¤äº† <code>console.log()</code> ä»¥åŠ <code>console.table()</code> ä»¥å¤–ï¼Œé‚„æœ‰è¨±å¤š console æ–¹æ³•ï¼Œå¯ä»¥åƒè€ƒï¼š<a href="https://developer.mozilla.org/en-US/docs/Web/API/Console" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/API/Console</a><br><br></p><h4 id="â˜…-Array-from"><a href="#â˜…-Array-from" class="headerlink" title="â˜… Array.from()"></a>â˜… Array.from()</h4><p><code>Array.from()</code> æ–¹æ³•æœƒå¾é¡é™£åˆ—ï¼ˆarray-likeï¼‰æˆ–æ˜¯å¯è¿­ä»£ï¼ˆiterableï¼‰ç‰©ä»¶å»ºç«‹ä¸€å€‹æ–°çš„ Array å¯¦é«”ã€‚</p><p>ç¯„ä¾‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.from(<span class="string">"Chai"</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// ["C", "h", "a", "i"]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>.from([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], x =&gt; x + x);</span><br><span class="line"><span class="comment">// [2, 4, 6]</span></span><br></pre></td></tr></table></figure><br><hr><p>æ¥è‘—æ˜¯èª²ç¨‹ä¸­ä½¿ç”¨çš„é™£åˆ—æ–¹æ³•å€‘</p><br><h4 id="â˜…-Array-filter"><a href="#â˜…-Array-filter" class="headerlink" title="â˜… Array.filter()"></a>â˜… Array.filter()</h4><p><code>filter()</code> æ–¹æ³•æœƒå»ºç«‹ä¸€å€‹æ–°é™£åˆ—ï¼Œæ–°é™£åˆ—æ˜¯ç¶“æŒ‡å®šä¹‹å‡½å¼é‹ç®—å¾Œï¼Œç”±åŸé™£åˆ—ä¸­é€šéè©²å‡½å¼æª¢é©—ä¹‹å…ƒç´ æ‰€æ§‹æˆçš„ã€‚</p><p>ç¯„ä¾‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> books = [</span><br><span class="line">  <span class="string">"Three Act Tragedy"</span>,</span><br><span class="line">  <span class="string">"The A.B.C. Murders"</span>,</span><br><span class="line">  <span class="string">"Cards on the Table"</span>,</span><br><span class="line">  <span class="string">"And Then There Were None"</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¯©é¸å‡ºç¬¬ä¸€å€‹å­—ç‚º 'T' çš„æ›¸</span></span><br><span class="line"><span class="keyword">const</span> result = books.filter(<span class="function"><span class="params">book</span> =&gt;</span> book.charAt(<span class="number">0</span>) === <span class="string">"T"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br><span class="line"><span class="comment">// Array ["Three Act Tragedy", "The A.B.C. Murders"]</span></span><br></pre></td></tr></table></figure><br><h4 id="â˜…-Array-map"><a href="#â˜…-Array-map" class="headerlink" title="â˜… Array.map()"></a>â˜… Array.map()</h4><p><code>map()</code> æ–¹æ³•æœƒå»ºç«‹ä¸€å€‹æ–°é™£åˆ—ï¼Œå…¶å…§å®¹ç‚ºåŸé™£åˆ—çš„æ¯ä¸€å€‹å…ƒç´ ç¶“ç”±å›å‘¼å‡½å¼é‹ç®—å¾Œæ‰€å›å‚³çš„çµæœä¹‹é›†åˆã€‚</p><p>ç¯„ä¾‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="string">"Chai"</span>, <span class="string">"Jay"</span>, <span class="string">"Kawa"</span>, <span class="string">"Annie"</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‚³çµ¦ map ä¸€å€‹å‡½å¼</span></span><br><span class="line"><span class="keyword">const</span> map1 = array1.map(<span class="function"><span class="params">x</span> =&gt;</span> <span class="string">`super cute <span class="subst">$&#123;x&#125;</span>`</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(map1);</span><br><span class="line"><span class="comment">// Array ["super cute Chai", "super cute Jay", "super cute Kawa", "super cute Annie"]</span></span><br></pre></td></tr></table></figure><br><h4 id="â˜…-Array-sort"><a href="#â˜…-Array-sort" class="headerlink" title="â˜… Array.sort()"></a>â˜… Array.sort()</h4><p><code>sort()</code> æ–¹æ³•æœƒå°é™£åˆ—å…ƒç´ é€²è¡Œæ’åºï¼Œä¸¦å›å‚³æ­¤é™£åˆ—ã€‚</p><p>èªæ³•ï¼š<code>arr.sort([compareFunction])</code></p><p>compareFunction ç‚ºè‡ªå®šç¾©çš„æ’åºå‡½å¼ã€‚å‡å¦‚çœç•¥æ­¤åƒæ•¸ï¼Œé™£åˆ—å°‡æ ¹æ“šå„å€‹å…ƒç´ è½‰ç‚ºå­—ä¸²å¾Œçš„æ¯ä¸€å€‹å­—å…ƒä¹‹ Unicode ç·¨ç¢¼ä½ç½®å€¼é€²è¡Œæ’åºã€‚</p><p>ï¼Šæ³¨æ„ï¼šæ­¤ç™¼æ³•æœƒåŸåœ°(in place)é€²è¡Œæ’åºï¼Œæœƒæ”¹è®ŠåŸé™£åˆ—ï¼Œä¸¦ä¸æ˜¯åŸé™£åˆ—çš„æ‹·è²ã€‚</p><p>ç¯„ä¾‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> names = [<span class="string">"Chai"</span>, <span class="string">"Jay"</span>, <span class="string">"Kawa"</span>, <span class="string">"Annie"</span>];</span><br><span class="line">names.sort();</span><br><span class="line"><span class="built_in">console</span>.log(names);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Array ["Annie", "Chai", "Jay", "Kawa"]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> array1 = [<span class="number">1</span>, <span class="number">40</span>, <span class="number">3</span>, <span class="number">21</span>, <span class="number">1000000</span>];</span><br><span class="line">array1.sort();</span><br><span class="line"><span class="built_in">console</span>.log(array1);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Array [1, 1000000, 21, 3, 40]</span></span><br></pre></td></tr></table></figure><p>å¦‚æœæœ‰å‚³ <code>compareFunction</code> ï¼Œé™£åˆ—å…ƒç´ å€‘å°‡æ ¹æ“šæ¯”è¼ƒå‡½å¼ä¹‹å›å‚³å€¼ä¾†æ’åºã€‚å¦‚æœ <code>a</code> å’Œ <code>b</code> ç‚ºè¢«æ¯”è¼ƒä¹‹å…©å…ƒç´ ï¼Œå‰‡ï¼š</p><ul><li>è‹¥ <code>compareFunction(a, b)</code> çš„å›å‚³å€¼å°æ–¼ 0ï¼Œå‰‡æœƒæŠŠ <code>a</code> æ’åœ¨å°æ–¼ <code>b</code> ä¹‹ç´¢å¼•çš„ä½ç½®ï¼Œå³ <code>a</code> æ’åœ¨ <code>b</code> å‰é¢ã€‚</li><li>è‹¥ <code>compareFunction(a, b)</code> å›å‚³ 0ï¼Œå‰‡ <code>a</code> èˆ‡ <code>b</code> çš†ä¸æœƒæ”¹è®Šå½¼æ­¤çš„é †åºï¼Œä½†æœƒèˆ‡å…¶ä»–å…¨éƒ¨çš„å…ƒç´ æ¯”è¼ƒä¾†æ’åºã€‚å‚™è¨»ï¼šECMAscript æ¨™æº–ä¸¦ä¸ä¿è­‰é€™å€‹è¡Œç‚ºï¼Œå› æ­¤ä¸æ˜¯æ‰€æœ‰ç€è¦½å™¨ï¼ˆå¦‚ Mozilla ç‰ˆæœ¬åœ¨ 2003 ä»¥å‰ï¼‰éƒ½éµå®ˆæ­¤è¡Œç‚ºã€‚</li><li>è‹¥ <code>compareFunction(a, b)</code> çš„å›å‚³å€¼å¤§æ–¼ 0ï¼Œå‰‡æœƒæŠŠ <code>b</code> æ’åœ¨å°æ–¼ <code>a</code> ä¹‹ç´¢å¼•çš„ä½ç½®ï¼Œå³ <code>b</code> æ’åœ¨ <code>a</code> å‰é¢ã€‚</li><li><code>compareFunction(a, b)</code> åœ¨çµ¦äºˆä¸€çµ„ç‰¹å®šå…ƒç´  a åŠ b ç‚ºæ­¤å‡½æ•¸ä¹‹å…©å¼•æ•¸æ™‚å¿…é ˆç¸½æ˜¯å›å‚³ç›¸åŒçš„å€¼ã€‚è‹¥å›å‚³å€¼ä¸ä¸€è‡´ï¼Œæ’åºé †åºå‰‡ç‚º undefinedã€‚</li></ul><p>æ¯”è¼ƒå‡½å¼æœƒæ˜¯ä»¥ä¸‹å½¢å¼ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">compare</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (åœ¨æŸæ’åºæ¨™æº–ä¸‹ a å°æ–¼ b) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (åœ¨æŸæ’åºæ¨™æº–ä¸‹ a å¤§æ–¼ b) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// a å¿…é ˆç­‰æ–¼ b</span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç‚ºäº†æ¯”è¼ƒæ•¸å­—è€Œä¸æ˜¯å­—ä¸²ï¼Œæ¯”è¼ƒå‡½å¼å¯ä»¥åƒ…åƒ…åˆ©ç”¨ <code>a</code> æ¸› <code>b</code>ã€‚ä»¥ä¸‹å‡½å¼å°‡æœƒå‡å†ªæ’åºé™£åˆ—ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">compareNumbers</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a - b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¯„ä¾‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> numbers = [<span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">3</span>];</span><br><span class="line">numbers.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a - b;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(numbers);</span><br><span class="line"></span><br><span class="line"><span class="comment">// [1, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure><br><h4 id="â˜…-Array-reduce"><a href="#â˜…-Array-reduce" class="headerlink" title="â˜… Array.reduce()"></a>â˜… Array.reduce()</h4><p><code>reduce()</code> æ–¹æ³•å°‡ä¸€å€‹ç´¯åŠ å™¨åŠé™£åˆ—ä¸­æ¯é …å…ƒç´ ï¼ˆç”±å·¦è‡³å³ï¼‰å‚³å…¥å›å‘¼å‡½å¼ï¼Œå°‡é™£åˆ—åŒ–ç‚ºå–®ä¸€å€¼ã€‚</p><p>èªæ³•ï¼š <code>arr.reduce(callback[accumulator, currentValue, currentIndex, array], initialValue)</code></p><p>ï¼Šæ³¨æ„ï¼šå‡å¦‚ <code>initialValue</code> æœªè¢«æä¾›ï¼Œ<code>reduce()</code> å°‡æœƒè·³éç¬¬ä¸€å€‹é™£åˆ—ç´¢å¼•ï¼Œå¾é™£åˆ—ç´¢å¼• 1 é–‹å§‹åŸ·è¡Œå›å‘¼å‡½å¼ã€‚è‹¥æœ‰æä¾› <code>initialValue</code>ï¼Œå‰‡æœƒç”±é™£åˆ—ç´¢å¼• 0 é–‹å§‹åŸ·è¡Œã€‚</p><p>ç¯„ä¾‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">const</span> reducer = <span class="function">(<span class="params">accumulator, currentValue</span>) =&gt;</span> accumulator + currentValue;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(array1.reduce(reducer));</span><br><span class="line"><span class="comment">// 15</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// çµ¦åˆå§‹å€¼ 5 ï¼Œæ‰€ä»¥ç‚º 5 + 1 + 2 + 3 + 4 + 5</span></span><br><span class="line"><span class="built_in">console</span>.log(array1.reduce(reducer, <span class="number">5</span>));</span><br><span class="line"><span class="comment">// 20</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;JS30 Day04&lt;br&gt;å° JS æ–°æ‰‹ä¾†èªªï¼Œé€™å ‚èª²éå¸¸é‡è¦ã€‚å­¸æœƒ Array çš„å„ç¨®æ–¹æ³•ï¼Œå°±å¯ä»¥è§£æ±ºå¤§éƒ¨åˆ†çš„å•é¡Œï¼&lt;/p&gt;
    
    </summary>
    
    
      <category term="JS30" scheme="https://chaichai.site/categories/JS30/"/>
    
    
      <category term="ç¨‹å¼ç­†è¨˜" scheme="https://chaichai.site/tags/%E7%A8%8B%E5%BC%8F%E7%AD%86%E8%A8%98/"/>
    
      <category term="Javascript" scheme="https://chaichai.site/tags/Javascript/"/>
    
      <category term="JS30" scheme="https://chaichai.site/tags/JS30/"/>
    
  </entry>
  
  <entry>
    <title>Rails Environment</title>
    <link href="https://chaichai.site/2019/11/07/rails_env/"/>
    <id>https://chaichai.site/2019/11/07/rails_env/</id>
    <published>2019-11-06T16:00:00.000Z</published>
    <updated>2019-11-06T12:57:22.358Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©ç°¡å–®åœ°æ•´ç†äº†åŸºç¤å»é‡è¦çš„æ¦‚å¿µï¼šRails çš„ç’°å¢ƒ â€“ Development / Test / Productionã€‚</p><a id="more"></a><hr><h2 id="Rails-çš„ç’°å¢ƒ"><a href="#Rails-çš„ç’°å¢ƒ" class="headerlink" title="Rails çš„ç’°å¢ƒ"></a>Rails çš„ç’°å¢ƒ</h2><p>Rails çš„ç’°å¢ƒé è¨­ç‚ºä»¥ä¸‹ä¸‰ç¨®ï¼š</p><ul><li>Development é–‹ç™¼</li><li>Test æ¸¬è©¦</li><li>Production ä¸Šç·š</li></ul><p>åœ¨ <code>config/environments</code> åº•ä¸‹ï¼Œæœ‰åˆ†åˆ¥å°æ‡‰çš„è¨­å®šæª”ï¼š</p><ul><li>development.rb</li><li>test.rb</li><li>prodcution.rb</li></ul><p>åœ¨ <code>config/database.yml</code> ä¸­ï¼Œå®šç¾©äº†ä¸‰å€‹ç’°å¢ƒæ‰€ä½¿ç”¨çš„è³‡æ–™åº«è¨­å®šï¼Œé è¨­è³‡æ–™åº«ç‚º sqlite3ï¼š</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># SQLite version 3.x</span></span><br><span class="line"><span class="comment">#   gem install sqlite3</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#   Ensure the SQLite 3 gem is defined in your Gemfile</span></span><br><span class="line"><span class="comment">#   gem 'sqlite3'</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="symbol">default:</span> &amp;default</span><br><span class="line">  <span class="symbol">adapter:</span> sqlite3</span><br><span class="line">  <span class="symbol">pool:</span> &lt;%= ENV.fetch(<span class="string">"RAILS_MAX_THREADS"</span>) &#123; <span class="number">5</span> &#125; =%&gt;</span><br><span class="line"><span class="symbol">timeout:</span> <span class="number">5000</span></span><br><span class="line"></span><br><span class="line"><span class="symbol">development:</span></span><br><span class="line">  &lt;&lt;: *default</span><br><span class="line">  <span class="symbol">database:</span> db/development.sqlite3</span><br><span class="line"></span><br><span class="line"><span class="comment"># Warning: The database defined as "test" will be erased and</span></span><br><span class="line"><span class="comment"># re-generated from your development database when you run "rake".</span></span><br><span class="line"><span class="comment"># Do not set this db to the same as development or production.</span></span><br><span class="line"><span class="symbol">test:</span></span><br><span class="line">  &lt;&lt;: *default</span><br><span class="line">  <span class="symbol">database:</span> db/test.sqlite3</span><br><span class="line"></span><br><span class="line"><span class="symbol">production:</span></span><br><span class="line">  &lt;&lt;: *default</span><br><span class="line">  <span class="symbol">database:</span> db/production.sqlite3</span><br></pre></td></tr></table></figure><br><hr><br><h2 id="ç’°å¢ƒçš„å·®ç•°"><a href="#ç’°å¢ƒçš„å·®ç•°" class="headerlink" title="ç’°å¢ƒçš„å·®ç•°"></a>ç’°å¢ƒçš„å·®ç•°</h2><h3 id="Development-é–‹ç™¼ç’°å¢ƒ"><a href="#Development-é–‹ç™¼ç’°å¢ƒ" class="headerlink" title="Development é–‹ç™¼ç’°å¢ƒ"></a>Development é–‹ç™¼ç’°å¢ƒ</h3><ul><li><p>åœ¨é–‹ç™¼ç’°å¢ƒä¸‹ï¼Œä¿®æ”¹ä¸€å€‹æ±è¥¿å¾Œï¼Œåªè¦é‡æ•´ç€è¦½å™¨å°±å¯ä»¥çœ‹åˆ°æ›´æ”¹å¾Œçš„çµæœã€‚å› ç‚º Rails é—œé–‰ cacheï¼Œè®“æ¯ä¸€æ¬¡çš„ HTTP request éƒ½æœƒé‡æ–°è¼‰å…¥ classï¼Œä¸éœ€è¦æ‰‹å‹•é‡å•Ÿ serverï¼Œä»¥åŠ å¿«é–‹ç™¼é€±æœŸã€‚</p></li><li><p>Rails åªæœ‰åœ¨é€£ç·šä¾†è‡ªæœ¬åœ°ç«¯çš„æ™‚å€™ï¼Œæœƒå°‡éŒ¯èª¤è¨Šæ¯é¡¯ç¤ºåœ¨ç€è¦½å™¨ä¸Šï¼Œè®“é–‹ç™¼äººå“¡å¯ä»¥æŸ¥è©¢éŒ¯èª¤çš„è¨­å®šã€‚</p></li></ul><p>ï¼ˆè‹¥é‚„æ²’æœ‰ migrateï¼Œ Rails ä¹Ÿæœƒæé†’ä½ è¨˜å¾—åŸ·è¡Œ rails db:migrateï¼‰</p><br><h3 id="Test-æ¸¬è©¦ç’°å¢ƒ"><a href="#Test-æ¸¬è©¦ç’°å¢ƒ" class="headerlink" title="Test æ¸¬è©¦ç’°å¢ƒ"></a>Test æ¸¬è©¦ç’°å¢ƒ</h3><ul><li><p>åœ¨å°ˆç”¨çš„æ¸¬è©¦è³‡æ–™åº«ä¸­ï¼Œå¯ä»¥ç¨ç«‹è¨­ç½®ã€è™•ç†æ¸¬è©¦æ•¸æ“šï¼Œç”¨å®Œå³æ¸…é™¤ï¼Œä¸ç”¨æ“”å¿ƒå½±éŸ¿åˆ°é–‹ç™¼æˆ–ä¸Šç·šè³‡æ–™åº«ã€‚</p></li><li><p>ç•¶é€šéæ¸¬è©¦æ™‚ï¼Œæœƒè¼¸å‡ºé» . (dot)ï¼›æ¸¬è©¦å¤±æ•—æ™‚ï¼Œæœƒå‡ºç¾ F ï¼›ç•¶æ¸¬è©¦å‡ºéŒ¯æ™‚ï¼Œæœƒä¸Ÿ E å‡ºä¾†ï¼›æœ€å¾Œä¸€è¡Œå‰‡æ˜¯æ‘˜è¦ã€‚</p><p>ç¯„ä¾‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> bin/rake test test/models/article_test.rb test_should_not_save_article_without_title</span><br><span class="line">F</span><br><span class="line"></span><br><span class="line">Finished tests in 0.044632s, 22.4054 tests/s, 22.4054 assertions/s.</span><br><span class="line"></span><br><span class="line">  1) Failure:</span><br><span class="line">test_should_not_save_article_without_title(ArticleTest) [test/models/article_test.rb:6]:</span><br><span class="line">Failed assertion, no message given.</span><br><span class="line"></span><br><span class="line">1 tests, 1 assertions, 1 failures, 0 errors, 0 skips</span><br></pre></td></tr></table></figure></li></ul><p>ï¼Šæ³¨æ„ï¼šRails é è¨­æ˜¯ç”¨é—œè¯å¼è³‡æ–™åº«çš„ Transaction åŠŸèƒ½ï¼Œæ‰€ä»¥æ¯æ¬¡ä¹‹é–“å¢ä¿®çš„è³‡æ–™éƒ½æœƒæ¸…é™¤ã€‚ä½†æ˜¯å¦‚æœè³‡æ–™åº«ä¸æ”¯æ´ï¼ˆä¾‹å¦‚ MySQL çš„ MyISAM æ ¼å¼å°±ä¸æ”¯æ´ï¼‰æˆ–æ˜¯ç”¨å¦‚ MongoDB çš„ NoSQLï¼Œå°±è¦è‡ªå·±è™•ç†ã€‚</p><br><h3 id="Production-ä¸Šç·šç’°å¢ƒ"><a href="#Production-ä¸Šç·šç’°å¢ƒ" class="headerlink" title="Production ä¸Šç·šç’°å¢ƒ"></a>Production ä¸Šç·šç’°å¢ƒ</h3><ul><li>åœ¨é–‹ç™¼ç’°å¢ƒä¸‹ <code>cache_classes = false</code> ï¼Œä½†ä¸Šç·šç’°å¢ƒç‚ºäº†å¢åŠ æ•ˆèƒ½ï¼Œæ¸›å°‘ request æ•¸é‡ï¼Œé è¨­ <code>cache_classes = true</code> ï¼Œclass æª”æ¡ˆè¼‰å…¥è¨˜æ†¶é«”å¾Œå°±å¿«å–èµ·ä¾†äº†ã€‚</li><li>å‡ºç¾ä¾‹å¤–éŒ¯èª¤æ™‚ï¼Œæœƒä¾ç…§éŒ¯èª¤ç¨®é¡ï¼Œå°å‡º <code>public</code> è³‡æ–™å¤¾åº•ä¸‹ <code>500.html</code>ã€<code>404.html</code>ã€<code>422.html</code>æª”æ¡ˆã€‚</li></ul><br><hr><br><h3 id="é è¨­è¨­å®šæª”æ•´ç†"><a href="#é è¨­è¨­å®šæª”æ•´ç†" class="headerlink" title="é è¨­è¨­å®šæª”æ•´ç†"></a>é è¨­è¨­å®šæª”æ•´ç†</h3><table><thead><tr><th align="left">é …ç›®</th><th align="center">development</th><th align="center">prodcution</th><th align="center">test</th></tr></thead><tbody><tr><td align="left">cache_classes</td><td align="center">false</td><td align="center">true</td><td align="center">true</td></tr><tr><td align="left">eager_load</td><td align="center">false</td><td align="center">true</td><td align="center">false</td></tr><tr><td align="left">serve_static_files</td><td align="center"></td><td align="center"></td><td align="center">true</td></tr><tr><td align="left">static_cache_control</td><td align="center"></td><td align="center"></td><td align="center">è¨» 4</td></tr><tr><td align="left">consider_all_requests_local</td><td align="center">true</td><td align="center">false</td><td align="center">true</td></tr><tr><td align="left">serve_static_files</td><td align="center"></td><td align="center">è¨» 2</td><td align="center"></td></tr><tr><td align="left">log_level</td><td align="center"></td><td align="center">:debug</td><td align="center"></td></tr><tr><td align="left">log_formatter</td><td align="center"></td><td align="center">è¨» 3</td><td align="center"></td></tr><tr><td align="left"><strong>action_controller</strong></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="left">perform_caching</td><td align="center">false</td><td align="center">true</td><td align="center">false</td></tr><tr><td align="left">allow_forgery_protection</td><td align="center"></td><td align="center"></td><td align="center">false</td></tr><tr><td align="left"><strong>action_dispatch</strong></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="left">show_exceptions</td><td align="center"></td><td align="center"></td><td align="center">false</td></tr><tr><td align="left"><strong>action_mailer</strong></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="left">delivery_method</td><td align="center">:letter_opener</td><td align="center"></td><td align="center">:test</td></tr><tr><td align="left">default_url_options</td><td align="center">è¨» 1</td><td align="center"></td><td align="center"></td></tr><tr><td align="left">raise_delivery_errors</td><td align="center">false</td><td align="center"></td><td align="center"></td></tr><tr><td align="left"><strong>active_support</strong></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="left">test_order</td><td align="center"></td><td align="center"></td><td align="center">:random</td></tr><tr><td align="left">deprecation</td><td align="center">:log</td><td align="center">:notify</td><td align="center">:stderr</td></tr><tr><td align="left"><strong>active_record</strong></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="left">migration_error</td><td align="center">:page_load</td><td align="center"></td><td align="center"></td></tr><tr><td align="left">dump_schema_after_migration</td><td align="center"></td><td align="center">false</td><td align="center"></td></tr><tr><td align="left"><strong>assets</strong></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="left">debug</td><td align="center">true</td><td align="center"></td><td align="center"></td></tr><tr><td align="left">digest</td><td align="center">true</td><td align="center">true</td><td align="center"></td></tr><tr><td align="left">raise_runtime_errors</td><td align="center">true</td><td align="center"></td><td align="center"></td></tr><tr><td align="left">js_compressor</td><td align="center"></td><td align="center">:uglifier</td><td align="center"></td></tr><tr><td align="left">compile</td><td align="center"></td><td align="center">false</td><td align="center"></td></tr><tr><td align="left"><strong>i18n</strong></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="left">fallbacks</td><td align="center"></td><td align="center">true</td><td align="center"></td></tr></tbody></table><br><hr><p>åƒè€ƒè³‡æ–™ï¼š</p><p><a href="https://rails.ruby.tw/testing.html" target="_blank" rel="noopener">https://rails.ruby.tw/testing.html</a><br><a href="http://teotti.com/use-of-rails-environments/" target="_blank" rel="noopener">http://teotti.com/use-of-rails-environments/</a><br><a href="https://blog.niclin.tw/2015/12/09/ç‚ºä»€éº¼-rails-è¦åˆ†-production-test-development-ä¸‰ç¨®ç’°å¢ƒ/" target="_blank" rel="noopener">https://blog.niclin.tw/2015/12/09/%E7%82%BA%E4%BB%80%E9%BA%BC-rails-%E8%A6%81%E5%88%86-production-test-development-%E4%B8%89%E7%A8%AE%E7%92%B0%E5%A2%83/</a><br><a href="http://james1239090-blog.logdown.com/posts/773369-finish-the-rails-environment-development-test-production" target="_blank" rel="noopener">http://james1239090-blog.logdown.com/posts/773369-finish-the-rails-environment-development-test-production</a><br><a href="https://openhome.cc/Gossip/Rails/Test.html" target="_blank" rel="noopener">https://openhome.cc/Gossip/Rails/Test.html</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä»Šå¤©ç°¡å–®åœ°æ•´ç†äº†åŸºç¤å»é‡è¦çš„æ¦‚å¿µï¼šRails çš„ç’°å¢ƒ â€“ Development / Test / Productionã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="å­¸ç¿’æ—¥èªŒ" scheme="https://chaichai.site/categories/%E5%AD%B8%E7%BF%92%E6%97%A5%E8%AA%8C/"/>
    
    
      <category term="å­¸ç¿’æ—¥èªŒ" scheme="https://chaichai.site/tags/%E5%AD%B8%E7%BF%92%E6%97%A5%E8%AA%8C/"/>
    
      <category term="Ruby" scheme="https://chaichai.site/tags/Ruby/"/>
    
      <category term="Rails" scheme="https://chaichai.site/tags/Rails/"/>
    
  </entry>
  
  <entry>
    <title>JS30 Day03 CSS Variables and JS</title>
    <link href="https://chaichai.site/2019/11/05/js30-03/"/>
    <id>https://chaichai.site/2019/11/05/js30-03/</id>
    <published>2019-11-04T16:00:00.000Z</published>
    <updated>2019-11-07T16:15:42.355Z</updated>
    
    <content type="html"><![CDATA[<p>JS30 Day03<br>ä»¥å‰å­¸åˆ‡ç‰ˆæ™‚å¾ˆå°‘ä½¿ç”¨ CSS è®Šæ•¸ï¼Œé€™å ‚èª²ç”¨ CSS è®Šæ•¸ + JS ä¾†å³æ™‚æ”¹è®Šç•«é¢ï¼Œæ‰ç™¼ç¾å®ƒéå¸¸å¯¦ç”¨ï¼Œä»¥å¾Œè¦å¤šåŠ åˆ©ç”¨ï¼</p><a id="more"></a><hr><h1 id="CSS-Variables-and-JS"><a href="#CSS-Variables-and-JS" class="headerlink" title="CSS Variables and JS"></a>CSS Variables and JS</h1><h2 id="å®Œæˆç›®æ¨™"><a href="#å®Œæˆç›®æ¨™" class="headerlink" title="å®Œæˆç›®æ¨™"></a>å®Œæˆç›®æ¨™</h2><ul><li>åŠŸèƒ½<ul><li>æ‹‰å‹•ã€é»æ“Š</li></ul></li><li>ç•«é¢<ul><li>æ”¹è®Šæ§åˆ¶é …æœƒç«‹å³æ”¹è®Šç•«é¢</li></ul></li></ul><br><hr><br><h3 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index-START.html"></a>index-START.html</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Scoped CSS Variables and JS<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Update CSS Variables with <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"hl"</span>&gt;</span>JS<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"controls"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"spacing"</span>&gt;</span>Spacing:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">        <span class="attr">id</span>=<span class="string">"spacing"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">type</span>=<span class="string">"range"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">name</span>=<span class="string">"spacing"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">min</span>=<span class="string">"10"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">max</span>=<span class="string">"200"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">value</span>=<span class="string">"10"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">data-sizing</span>=<span class="string">"px"</span></span></span><br><span class="line"><span class="tag">      /&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"blur"</span>&gt;</span>Blur:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">        <span class="attr">id</span>=<span class="string">"blur"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">type</span>=<span class="string">"range"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">name</span>=<span class="string">"blur"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">min</span>=<span class="string">"0"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">max</span>=<span class="string">"25"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">value</span>=<span class="string">"10"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">data-sizing</span>=<span class="string">"px"</span></span></span><br><span class="line"><span class="tag">      /&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"base"</span>&gt;</span>Base Color<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"base"</span> <span class="attr">type</span>=<span class="string">"color"</span> <span class="attr">name</span>=<span class="string">"base"</span> <span class="attr">value</span>=<span class="string">"#ffc600"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://source.unsplash.com/7bwQXzbF6KE/800x500"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">      /*</span><br><span class="line">      misc styles, nothing to do with CSS variables</span><br><span class="line">    */</span><br><span class="line"></span><br><span class="line">      body &#123;</span><br><span class="line">        text-align: center;</span><br><span class="line">        background: #193549;</span><br><span class="line">        color: white;</span><br><span class="line">        font-family: "helvetica neue", sans-serif;</span><br><span class="line">        font-weight: 100;</span><br><span class="line">        font-size: 50px;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      .controls &#123;</span><br><span class="line">        margin-bottom: 50px;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      input &#123;</span><br><span class="line">        width: 100px;</span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><br><h3 id="index-FINISHED-html"><a href="#index-FINISHED-html" class="headerlink" title="index-FINISHED.html"></a>index-FINISHED.html</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Scoped CSS Variables and JS<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Update CSS Variables with <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"hl"</span>&gt;</span>JS<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"controls"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"spacing"</span>&gt;</span>Spacing:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">        <span class="attr">id</span>=<span class="string">"spacing"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">type</span>=<span class="string">"range"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">name</span>=<span class="string">"spacing"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">min</span>=<span class="string">"10"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">max</span>=<span class="string">"200"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">value</span>=<span class="string">"10"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">data-sizing</span>=<span class="string">"px"</span></span></span><br><span class="line"><span class="tag">      /&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"blur"</span>&gt;</span>Blur:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">        <span class="attr">id</span>=<span class="string">"blur"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">type</span>=<span class="string">"range"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">name</span>=<span class="string">"blur"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">min</span>=<span class="string">"0"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">max</span>=<span class="string">"25"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">value</span>=<span class="string">"10"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">data-sizing</span>=<span class="string">"px"</span></span></span><br><span class="line"><span class="tag">      /&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"base"</span>&gt;</span>Base Color<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"base"</span> <span class="attr">type</span>=<span class="string">"color"</span> <span class="attr">name</span>=<span class="string">"base"</span> <span class="attr">value</span>=<span class="string">"#ffc600"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://source.unsplash.com/7bwQXzbF6KE/800x500"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">      :root &#123;</span><br><span class="line">        --base: #ffc600;</span><br><span class="line">        --spacing: 10px;</span><br><span class="line">        --blur: 10px;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      img &#123;</span><br><span class="line">        padding: var(--spacing);</span><br><span class="line">        background: var(--base);</span><br><span class="line">        filter: blur(var(--blur));</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      .hl &#123;</span><br><span class="line">        color: var(--base);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      /*</span><br><span class="line">      misc styles, nothing to do with CSS variables</span><br><span class="line">    */</span><br><span class="line"></span><br><span class="line">      body &#123;</span><br><span class="line">        text-align: center;</span><br><span class="line">        background: #193549;</span><br><span class="line">        color: white;</span><br><span class="line">        font-family: "helvetica neue", sans-serif;</span><br><span class="line">        font-weight: 100;</span><br><span class="line">        font-size: 50px;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      .controls &#123;</span><br><span class="line">        margin-bottom: 50px;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      input &#123;</span><br><span class="line">        width: 100px;</span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">      const inputs = document.querySelectorAll(".controls input");</span><br><span class="line"></span><br><span class="line">      function handleUpdate() &#123;</span><br><span class="line">        const suffix = this.dataset.sizing || "";</span><br><span class="line">        document.documentElement.style.setProperty(</span><br><span class="line">          `--$&#123;this.name&#125;`,</span><br><span class="line">          this.value + suffix</span><br><span class="line">        );</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      inputs.forEach(input =&gt; input.addEventListener("change", handleUpdate));</span><br><span class="line">      inputs.forEach(input =&gt;</span><br><span class="line">        input.addEventListener("mousemove", handleUpdate)</span><br><span class="line">      );</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><br><hr><br><h2 id="å­¸ç¿’ç­†è¨˜"><a href="#å­¸ç¿’ç­†è¨˜" class="headerlink" title="å­¸ç¿’ç­†è¨˜"></a>å­¸ç¿’ç­†è¨˜</h2><br><h4 id="â˜…-CSS-Variable"><a href="#â˜…-CSS-Variable" class="headerlink" title="â˜… CSS Variable"></a>â˜… CSS Variable</h4><p>CSS è®Šæ•¸å¯ä»¥å®£å‘Šåœ¨ä»»ä½• CSS Selector çš„ç¯„åœå…§ã€‚</p><p>å‘½åæ–¹å¼ï¼šé–‹é ­ <code>--</code> ï¼Œå¾Œé¢æ¥è‘—è‹±æ–‡æˆ–æ•¸å­—ã€‚ä¾‹å¦‚ï¼š<code>--bg-color: red;</code></p><ul><li><p>åœ¨ CSS ä½¿ç”¨è®Šæ•¸</p><p>ä½¿ç”¨ <code>var()</code>ä»£è¡¨ã€Œä½¿ç”¨è®Šæ•¸ã€ï¼Œä¸¦ä¸”å°‡ã€Œå®£å‘Šåç¨±ã€ä¸Ÿé€²ä¾†</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">element</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--bg-color);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>åœ¨ JS ä¿®æ”¹ CSS è®Šæ•¸å®£å‘Š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">element.style.setProperty(<span class="string">"--bg-color"</span>, <span class="string">"blue"</span>);</span><br></pre></td></tr></table></figure></li></ul><br><h4 id="â˜…-dataset"><a href="#â˜…-dataset" class="headerlink" title="â˜… dataset"></a>â˜… dataset</h4><p>åœ¨ day01 æœ‰æéè‡ªå®šç¾©å±¬æ€§ data-attribute çš„ç”¨æ³•ï¼Œ<code>dataset</code> å°±æ˜¯ JS æŠŠæ‰€æœ‰ data-attribute çš„è³‡æ–™å–å‡ºçš„æ–¹æ³•ã€‚ä¹Ÿç­‰åŒæ–¼ <code>getAttribute()</code> æ–¹æ³•ã€‚</p><p>ç¯„ä¾‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"student"</span> <span class="attr">data-number</span>=<span class="string">"1234"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.querySelector(<span class="string">"#student"</span>).dataset.number; <span class="comment">// è¼¸å‡º 1234</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.querySelector(<span class="string">"#student"</span>).getAttribute(<span class="string">"data-number"</span>); <span class="comment">// è¼¸å‡º 1234</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><br><h4 id="â˜…-documentElement"><a href="#â˜…-documentElement" class="headerlink" title="â˜… documentElement"></a>â˜… documentElement</h4><p><code>document.documentElement</code> å›å‚³æ–‡ä»¶ä¸­çš„æ ¹å…ƒç´  (root element) ï¼Œé€šå¸¸ç”¨æ–¼å–å¾— html çš„ HTMLHtmlElement ç‰©ä»¶ã€‚</p><p><code>document.querySelector(&#39;:root&#39;) === document.documentElement</code></p><p>ç¯„ä¾‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"demo"</span>&gt;</span>é¡¯ç¤ºæ–‡ä»¶ç¯€é»<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"myFunction()"</span>&gt;</span>é»æˆ‘é»æˆ‘<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> x = <span class="built_in">document</span>.getElementById(<span class="string">"demo"</span>);</span></span><br><span class="line"><span class="javascript">    x.innerHTML = <span class="built_in">document</span>.documentElement;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="javascript">  <span class="comment">// è¼¸å‡º [object HTMLHtmlElement]</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><br><h4 id="â˜…-setProperty"><a href="#â˜…-setProperty" class="headerlink" title="â˜… setProperty()"></a>â˜… setProperty()</h4><p><code>setProperty()</code> å¯ä»¥å®£å‘Šä¸€å€‹æ–°çš„ CSS å±¬æ€§ï¼Œæˆ–æ˜¯æ›´æ”¹å·²å­˜åœ¨çš„å±¬æ€§ã€‚</p><p>èªæ³•ï¼š<code>object.setProperty(propertyname, value, priority)</code></p><p>ç¯„ä¾‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">h1&#123;</span><br><span class="line">color: red;</span><br><span class="line">background-color: black;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">id</span>=<span class="string">"test01"</span>&gt;</span>setProperty()æ–¹æ³•<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"myFunction()"</span>&gt;</span>é»æˆ‘<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="comment">// é»æ“Šå¾Œ color é¡è‰²æ›´æ›</span></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> object01 = <span class="built_in">document</span>.getElementById(<span class="string">'test01'</span>).style</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> setprop = object01.setProperty(<span class="string">"color"</span>, <span class="string">"yellow"</span>, <span class="string">"important"</span>);</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;JS30 Day03&lt;br&gt;ä»¥å‰å­¸åˆ‡ç‰ˆæ™‚å¾ˆå°‘ä½¿ç”¨ CSS è®Šæ•¸ï¼Œé€™å ‚èª²ç”¨ CSS è®Šæ•¸ + JS ä¾†å³æ™‚æ”¹è®Šç•«é¢ï¼Œæ‰ç™¼ç¾å®ƒéå¸¸å¯¦ç”¨ï¼Œä»¥å¾Œè¦å¤šåŠ åˆ©ç”¨ï¼&lt;/p&gt;
    
    </summary>
    
    
      <category term="JS30" scheme="https://chaichai.site/categories/JS30/"/>
    
    
      <category term="ç¨‹å¼ç­†è¨˜" scheme="https://chaichai.site/tags/%E7%A8%8B%E5%BC%8F%E7%AD%86%E8%A8%98/"/>
    
      <category term="Javascript" scheme="https://chaichai.site/tags/Javascript/"/>
    
      <category term="JS30" scheme="https://chaichai.site/tags/JS30/"/>
    
  </entry>
  
  <entry>
    <title>JS30 Day02 JS and CSS Clock</title>
    <link href="https://chaichai.site/2019/11/03/js30-02/"/>
    <id>https://chaichai.site/2019/11/03/js30-02/</id>
    <published>2019-11-02T16:00:00.000Z</published>
    <updated>2019-11-03T03:04:00.040Z</updated>
    
    <content type="html"><![CDATA[<p>JS30 Day02<br>é€™æ¬¡çš„èª²ç¨‹æåˆ°äº† CSS èˆ‡ JS çš„ transform å±¬æ€§ï¼Œå°å‹•ç•«æœ‰å¤šä¸€é»çš„äº†è§£ï½</p><a id="more"></a><hr><h1 id="JS-and-CSS-Clock"><a href="#JS-and-CSS-Clock" class="headerlink" title="JS and CSS Clock"></a>JS and CSS Clock</h1><h2 id="å®Œæˆç›®æ¨™"><a href="#å®Œæˆç›®æ¨™" class="headerlink" title="å®Œæˆç›®æ¨™"></a>å®Œæˆç›®æ¨™</h2><ul><li>åŠŸèƒ½<ul><li>é¡¯ç¤ºç›®å‰çš„æ™‚é–“<ul><li>æ›´æ–°æ™‚é‡ã€åˆ†é‡ã€ç§’é‡</li></ul></li></ul></li><li>ç•«é¢<ul><li>è®€å¾—åˆ°ç›®å‰çš„æ™‚é–“</li><li>ç§’é‡è¦æœ‰ã€ŒçœŸå¯¦çš„æ»´ç­”ã€å‹•ä½œ</li></ul></li></ul><br><hr><br><h3 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index-START.html"></a>index-START.html</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>JS + CSS Clock<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"clock"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"clock-face"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"hand hour-hand"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"hand min-hand"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"hand second-hand"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">      html &#123;</span><br><span class="line">        background: #018ded url(http://unsplash.it/1500/1000?image=881&amp;blur=5);</span><br><span class="line">        background-size: cover;</span><br><span class="line">        font-family: "helvetica neue";</span><br><span class="line">        text-align: center;</span><br><span class="line">        font-size: 10px;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      body &#123;</span><br><span class="line">        margin: 0;</span><br><span class="line">        font-size: 2rem;</span><br><span class="line">        display: flex;</span><br><span class="line">        flex: 1;</span><br><span class="line">        min-height: 100vh;</span><br><span class="line">        align-items: center;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      .clock &#123;</span><br><span class="line">        width: 30rem;</span><br><span class="line">        height: 30rem;</span><br><span class="line">        border: 20px solid white;</span><br><span class="line">        border-radius: 50%;</span><br><span class="line">        margin: 50px auto;</span><br><span class="line">        position: relative;</span><br><span class="line">        padding: 2rem;</span><br><span class="line">        box-shadow: 0 0 0 4px rgba(0, 0, 0, 0.1), inset 0 0 0 3px #efefef,</span><br><span class="line">          inset 0 0 10px black, 0 0 10px rgba(0, 0, 0, 0.2);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      .clock-face &#123;</span><br><span class="line">        position: relative;</span><br><span class="line">        width: 100%;</span><br><span class="line">        height: 100%;</span><br><span class="line">        transform: translateY(</span><br><span class="line">          -3px</span><br><span class="line">        ); /* account for the height of the clock hands */</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      .hand &#123;</span><br><span class="line">        width: 50%;</span><br><span class="line">        height: 6px;</span><br><span class="line">        background: black;</span><br><span class="line">        position: absolute;</span><br><span class="line">        top: 50%;</span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><br><h3 id="index-FINISHED-html"><a href="#index-FINISHED-html" class="headerlink" title="index-FINISHED.html"></a>index-FINISHED.html</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>JS + CSS Clock<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"clock"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"clock-face"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"hand hour-hand"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"hand min-hand"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"hand second-hand"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">      html &#123;</span><br><span class="line">        background: #018ded url(http://unsplash.it/1500/1000?image=881&amp;blur=5);</span><br><span class="line">        background-size: cover;</span><br><span class="line">        font-family: "helvetica neue";</span><br><span class="line">        text-align: center;</span><br><span class="line">        font-size: 10px;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      body &#123;</span><br><span class="line">        margin: 0;</span><br><span class="line">        font-size: 2rem;</span><br><span class="line">        display: flex;</span><br><span class="line">        flex: 1;</span><br><span class="line">        min-height: 100vh;</span><br><span class="line">        align-items: center;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      .clock &#123;</span><br><span class="line">        width: 30rem;</span><br><span class="line">        height: 30rem;</span><br><span class="line">        border: 20px solid white;</span><br><span class="line">        border-radius: 50%;</span><br><span class="line">        margin: 50px auto;</span><br><span class="line">        position: relative;</span><br><span class="line">        padding: 2rem;</span><br><span class="line">        box-shadow: 0 0 0 4px rgba(0, 0, 0, 0.1), inset 0 0 0 3px #efefef,</span><br><span class="line">          inset 0 0 10px black, 0 0 10px rgba(0, 0, 0, 0.2);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      .clock-face &#123;</span><br><span class="line">        position: relative;</span><br><span class="line">        width: 100%;</span><br><span class="line">        height: 100%;</span><br><span class="line">        transform: translateY(</span><br><span class="line">          -3px</span><br><span class="line">        ); /* account for the height of the clock hands */</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      .hand &#123;</span><br><span class="line">        width: 50%;</span><br><span class="line">        height: 6px;</span><br><span class="line">        background: black;</span><br><span class="line">        position: absolute;</span><br><span class="line">        top: 50%;</span><br><span class="line">        transform-origin: 100%;</span><br><span class="line">        transform: rotate(90deg);</span><br><span class="line">        transition: all 0.05s;</span><br><span class="line">        transition-timing-function: cubic-bezier(0.1, 2.7, 0.58, 1);</span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">      const secondHand = document.querySelector(".second-hand");</span><br><span class="line">      const minsHand = document.querySelector(".min-hand");</span><br><span class="line">      const hourHand = document.querySelector(".hour-hand");</span><br><span class="line"></span><br><span class="line">      function setDate() &#123;</span><br><span class="line">        const now = new Date();</span><br><span class="line"></span><br><span class="line">        const seconds = now.getSeconds();</span><br><span class="line">        const secondsDegrees = (seconds / 60) * 360 + 90;</span><br><span class="line">        secondHand.style.transform = `rotate($&#123;secondsDegrees&#125;deg)`;</span><br><span class="line"></span><br><span class="line">        const mins = now.getMinutes();</span><br><span class="line">        const minsDegrees = (mins / 60) * 360 + (seconds / 60) * 6 + 90;</span><br><span class="line">        minsHand.style.transform = `rotate($&#123;minsDegrees&#125;deg)`;</span><br><span class="line"></span><br><span class="line">        const hour = now.getHours();</span><br><span class="line">        const hourDegrees = (hour / 12) * 360 + (mins / 60) * 30 + 90;</span><br><span class="line">        hourHand.style.transform = `rotate($&#123;hourDegrees&#125;deg)`;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      setInterval(setDate, 1000);</span><br><span class="line"></span><br><span class="line">      setDate();</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><br><hr><br><h2 id="å­¸ç¿’ç­†è¨˜"><a href="#å­¸ç¿’ç­†è¨˜" class="headerlink" title="å­¸ç¿’ç­†è¨˜"></a>å­¸ç¿’ç­†è¨˜</h2><br><h4 id="â˜…-CSS-transform-origin"><a href="#â˜…-CSS-transform-origin" class="headerlink" title="â˜… CSS transform-origin"></a>â˜… CSS transform-origin</h4><p>CSS å…§çš„ <code>transform-origin</code> å±¬æ€§å¯ä»¥è¨­å®šå…ƒç´ è®ŠåŒ–çš„åŸé»ã€‚åœ¨é€™å€‹ç¯„ä¾‹ä¸­ï¼Œè¨­å®šç‚º 100%(right)å¯ä»¥ä½¿å…¶å¾æ™‚é˜é¢çš„ä¸­å¿ƒé»é–‹å§‹æ—‹è½‰ã€‚</p><p>ç¯„ä¾‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* One-value syntax */</span></span><br><span class="line"><span class="selector-tag">transform-origin</span>: 2<span class="selector-tag">px</span>;</span><br><span class="line"><span class="selector-tag">transform-origin</span>: <span class="selector-tag">bottom</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* x-offset | y-offset */</span></span><br><span class="line"><span class="selector-tag">transform-origin</span>: 3<span class="selector-tag">cm</span> 2<span class="selector-tag">px</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* x-offset-keyword | y-offset */</span></span><br><span class="line"><span class="selector-tag">transform-origin</span>: <span class="selector-tag">left</span> 2<span class="selector-tag">px</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* x-offset-keyword | y-offset-keyword */</span></span><br><span class="line"><span class="selector-tag">transform-origin</span>: <span class="selector-tag">right</span> <span class="selector-tag">top</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* y-offset-keyword | x-offset-keyword */</span></span><br><span class="line"><span class="selector-tag">transform-origin</span>: <span class="selector-tag">top</span> <span class="selector-tag">right</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* x-offset | y-offset | z-offset */</span></span><br><span class="line"><span class="selector-tag">transform-origin</span>: 2<span class="selector-tag">px</span> 30% 10<span class="selector-tag">px</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* x-offset-keyword | y-offset | z-offset */</span></span><br><span class="line"><span class="selector-tag">transform-origin</span>: <span class="selector-tag">left</span> 5<span class="selector-tag">px</span> <span class="selector-tag">-3px</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* x-offset-keyword | y-offset-keyword | z-offset */</span></span><br><span class="line"><span class="selector-tag">transform-origin</span>: <span class="selector-tag">right</span> <span class="selector-tag">bottom</span> 2<span class="selector-tag">cm</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* y-offset-keyword | x-offset-keyword | z-offset */</span></span><br><span class="line"><span class="selector-tag">transform-origin</span>: <span class="selector-tag">bottom</span> <span class="selector-tag">right</span> 2<span class="selector-tag">cm</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Global values */</span></span><br><span class="line"><span class="selector-tag">transform-origin</span>: <span class="selector-tag">inherit</span>;</span><br><span class="line"><span class="selector-tag">transform-origin</span>: <span class="selector-tag">initial</span>;</span><br><span class="line"><span class="selector-tag">transform-origin</span>: <span class="selector-tag">unset</span>;</span><br></pre></td></tr></table></figure><br><h4 id="â˜…-CSS-transform"><a href="#â˜…-CSS-transform" class="headerlink" title="â˜… CSS transform"></a>â˜… CSS transform</h4><p>CSS å…§çš„ <code>transition</code> å±¬æ€§å¯ä»¥é€²è¡Œ 2D å’Œ 3D çš„è®ŠåŒ–ã€‚</p><p><code>transition</code> å…±åŒ…å«å››ç¨®å­å±¬æ€§ï¼š <code>transition-property</code> , <code>transition-duration</code> , <code>transition-timing-function</code> , <code>transition-delay</code> ã€‚</p><ul><li>transition-propertyï¼šæŒ‡å®šåšè®Šæ›çš„ CSS å±¬æ€§ã€‚</li><li>transition-durationï¼šè®Šæ›éç¨‹çš„ç¸½æ™‚é–“ã€‚</li><li>transition-timing-functionï¼šå®šç¾©è®Šæ›æ™‚çš„é€Ÿåº¦æ›²ç·šã€‚</li><li>transition-delayï¼šå»¶é²å¤šä¹…å¾Œé–‹å§‹è®Šæ›ã€‚</li></ul><p>ç¯„ä¾‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Apply to 1 property */</span></span><br><span class="line"><span class="comment">/* property name | duration */</span></span><br><span class="line"><span class="selector-tag">transition</span>: <span class="selector-tag">margin-right</span> 4<span class="selector-tag">s</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* property name | duration | delay */</span></span><br><span class="line"><span class="selector-tag">transition</span>: <span class="selector-tag">margin-right</span> 4<span class="selector-tag">s</span> 1<span class="selector-tag">s</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* property name | duration | timing function */</span></span><br><span class="line"><span class="selector-tag">transition</span>: <span class="selector-tag">margin-right</span> 4<span class="selector-tag">s</span> <span class="selector-tag">ease-in-out</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* property name | duration | timing function | delay */</span></span><br><span class="line"><span class="selector-tag">transition</span>: <span class="selector-tag">margin-right</span> 4<span class="selector-tag">s</span> <span class="selector-tag">ease-in-out</span> 1<span class="selector-tag">s</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Apply to 2 properties */</span></span><br><span class="line"><span class="selector-tag">transition</span>: <span class="selector-tag">margin-right</span> 4<span class="selector-tag">s</span>, <span class="selector-tag">color</span> 1<span class="selector-tag">s</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Apply to all changed properties */</span></span><br><span class="line"><span class="selector-tag">transition</span>: <span class="selector-tag">all</span> 0<span class="selector-class">.5s</span> <span class="selector-tag">ease-out</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Global values */</span></span><br><span class="line"><span class="selector-tag">transition</span>: <span class="selector-tag">inherit</span>;</span><br><span class="line"><span class="selector-tag">transition</span>: <span class="selector-tag">initial</span>;</span><br><span class="line"><span class="selector-tag">transition</span>: <span class="selector-tag">unset</span>;</span><br></pre></td></tr></table></figure><br><h4 id="â˜…-CSS-transition-timing-function"><a href="#â˜…-CSS-transition-timing-function" class="headerlink" title="â˜… CSS transition-timing-function"></a>â˜… CSS transition-timing-function</h4><p><code>transition</code> ä¸­å…¶ä¸­ä¸€å€‹å­å±¬æ€§ <code>transition-timing-function</code> å®šç¾©éæ¸¡æ•ˆæœçš„é€Ÿåº¦æ›²ç·šã€‚é è¨­ç‚º <code>ease</code>ã€‚</p><table><thead><tr><th align="left">å€¼</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">linear</td><td align="left">è¦å®šä»¥ç›¸åŒé€Ÿåº¦é–‹å§‹è‡³çµæŸçš„éæ¸¡æ•ˆæœï¼ˆç­‰æ–¼ cubic-bezier(0,0,1,1)ï¼‰ã€‚</td></tr><tr><td align="left">ease</td><td align="left">è¦å®šæ…¢é€Ÿé–‹å§‹ï¼Œç„¶å¾Œè®Šå¿«ï¼Œç„¶å¾Œæ…¢é€ŸçµæŸçš„éæ¸¡æ•ˆæœï¼ˆcubic-bezier(0.25,0.1,0.25,1)ï¼‰ã€‚</td></tr><tr><td align="left">ease-in</td><td align="left">è¦å®šä»¥æ…¢é€Ÿé–‹å§‹çš„éæ¸¡æ•ˆæœï¼ˆç­‰æ–¼ cubic-bezier(0.42,0,1,1)ï¼‰ã€‚</td></tr><tr><td align="left">ease-out</td><td align="left">è¦å®šä»¥æ…¢é€ŸçµæŸçš„éæ¸¡æ•ˆæœï¼ˆç­‰æ–¼ cubic-bezier(0,0,0.58,1)ï¼‰ã€‚</td></tr><tr><td align="left">ease-in-out</td><td align="left">è¦å®šä»¥æ…¢é€Ÿé–‹å§‹å’ŒçµæŸçš„éæ¸¡æ•ˆæœï¼ˆç­‰æ–¼ cubic-bezier(0.42,0,0.58,1)ï¼‰ã€‚</td></tr><tr><td align="left">cubic-bezier( <em>n</em> , <em>n</em> , <em>n</em> , <em>n</em> )</td><td align="left">åœ¨ cubic-bezier å‡½æ•¸ä¸­å®šç¾©è‡ªå·±çš„å€¼ã€‚å¯èƒ½çš„å€¼æ˜¯ 0 è‡³ 1 ä¹‹é–“çš„æ•¸å€¼ã€‚</td></tr></tbody></table><br><h4 id="â˜…-Date"><a href="#â˜…-Date" class="headerlink" title="â˜… Date()"></a>â˜… Date()</h4><p>JS å–å¾—æ™‚é–“çš„å‡½å¼ï¼Œéœ€æ­é… new ä¾†ä½¿ç”¨ï¼Œå¦‚ <code>new Date()</code>ã€‚</p><p>ï¼Šæ³¨æ„ï¼šJavaScript <code>Date</code> ç‰©ä»¶åªèƒ½ç”±ä»¥ Date ä½œç‚ºå»ºæ§‹å­ä¾†ç”¢ç”Ÿï¼Œå¦‚æœæŠŠ Date ä½œç‚ºä¸€èˆ¬çš„å‡½å¼ä¾†å‘¼å«ï¼ˆçœç•¥ newï¼‰ï¼Œå°‡æœƒå¾—åˆ°ä¸€å€‹å­—ä¸²è€Œé Date ç‰©ä»¶ã€‚å®ƒä¸¦æ²’æœ‰ç‰©ä»¶å¯¦é«”èªæ³•ï¼ˆä¾‹å¦‚ï¼šä»¥ä¸­åˆ®è™Ÿ [ ] è¡¨ç¤ºé™£åˆ—çš„å®£å‘Šæ–¹å¼ï¼‰ã€‚</p><p>ç¯„ä¾‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(value);</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(dateString);</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(year, month[, day[, hour[, minutes[, seconds[, milliseconds]]]]]);</span><br></pre></td></tr></table></figure><ul><li>Date.prototype æ–¹æ³•<ul><li><code>date.getSeconds()</code>ï¼šå–å¾—ç•¶å‰ç§’</li><li><code>date.getMinutes()</code>ï¼šå–å¾—ç•¶å‰åˆ†é˜</li><li><code>date.getHours()</code>ï¼šå–å¾—ç•¶å‰å°æ™‚</li></ul></li></ul><br><h4 id="â˜…-style-transform"><a href="#â˜…-style-transform" class="headerlink" title="â˜… style.transform"></a>â˜… style.transform</h4><p><code>transform</code> å±¬æ€§ä½¿ç‰©ä»¶é€²è¡Œ 2D æˆ– 3D çš„è½‰æ›ã€‚ä¾‹å¦‚ï¼šæ—‹è½‰ã€ç¸®æ”¾ã€ç§»å‹•æˆ–å‚¾æ–œã€‚</p><p>ç¯„ä¾‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"myFunction()"</span>&gt;</span>Try it<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"myDIV"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>myDIV<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// Code for Safari</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.getElementById(<span class="string">"myDIV"</span>).style.WebkitTransform = <span class="string">"rotate(20deg)"</span>;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// Code for IE9</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.getElementById(<span class="string">"myDIV"</span>).style.msTransform = <span class="string">"rotate(20deg)"</span>;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// Standard syntax</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.getElementById(<span class="string">"myDIV"</span>).style.transform = <span class="string">"rotate(20deg)"</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="javascript">  <span class="comment">// ç‰©ä»¶æ—‹è½‰20åº¦</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;JS30 Day02&lt;br&gt;é€™æ¬¡çš„èª²ç¨‹æåˆ°äº† CSS èˆ‡ JS çš„ transform å±¬æ€§ï¼Œå°å‹•ç•«æœ‰å¤šä¸€é»çš„äº†è§£ï½&lt;/p&gt;
    
    </summary>
    
    
      <category term="JS30" scheme="https://chaichai.site/categories/JS30/"/>
    
    
      <category term="ç¨‹å¼ç­†è¨˜" scheme="https://chaichai.site/tags/%E7%A8%8B%E5%BC%8F%E7%AD%86%E8%A8%98/"/>
    
      <category term="Javascript" scheme="https://chaichai.site/tags/Javascript/"/>
    
      <category term="JS30" scheme="https://chaichai.site/tags/JS30/"/>
    
  </entry>
  
  <entry>
    <title>JS30 Day01 Javascript Drum Kit</title>
    <link href="https://chaichai.site/2019/11/01/js30-01/"/>
    <id>https://chaichai.site/2019/11/01/js30-01/</id>
    <published>2019-10-31T16:00:00.000Z</published>
    <updated>2019-11-02T16:51:14.870Z</updated>
    
    <content type="html"><![CDATA[<p>JS30 Day01<br>ç¬¬ä¸€å¤©å°±å­¸åˆ°äº†å¾ˆå¤šèªæ³•èˆ‡å¯¦éš›æ‡‰ç”¨ï¼Œæ˜¯å€‹æ”¶ç©«éå¸¸è±å¯Œçš„é–‹å§‹ï¼:D</p><a id="more"></a><hr><h1 id="Javascript-Drum-Kit"><a href="#Javascript-Drum-Kit" class="headerlink" title="Javascript Drum Kit"></a>Javascript Drum Kit</h1><h2 id="å®Œæˆç›®æ¨™"><a href="#å®Œæˆç›®æ¨™" class="headerlink" title="å®Œæˆç›®æ¨™"></a>å®Œæˆç›®æ¨™</h2><ul><li>åŠŸèƒ½<ul><li>æŒ‰ä¸‹éµç›¤ï¼Œå‡ºç¾ç›¸å°æ‡‰çš„è²éŸ³</li></ul></li><li>ç•«é¢<ul><li>æŒ‰ä¸‹éµç›¤ï¼Œç•«é¢ä¸Šçš„å­—æ¯æ–¹å¡Šï¼Œåšé»å°å‹•ç•«<ul><li>åŠ ä¸Šé»ƒè‰²é™°å½±</li><li>æŒ‰éˆ•å½ˆä¸€ä¸‹(å¾®å°æ”¾å¤§)çš„å‹•ç•«</li></ul></li></ul></li></ul><br><hr><br><h3 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index-START.html"></a>index-START.html</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"en"</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">  &lt;title&gt;JS Drum Kit&lt;<span class="regexp">/title&gt;</span></span><br><span class="line"><span class="regexp">  &lt;link rel="stylesheet" href="style.css"&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"keys"</span>&gt;</span><br><span class="line">    &lt;div data-key=<span class="string">"65"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"key"</span>&gt;</span><br><span class="line">      &lt;kbd&gt;A&lt;<span class="regexp">/kbd&gt;</span></span><br><span class="line"><span class="regexp">      &lt;span class="sound"&gt;clap&lt;/</span>span&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;div data-key="83" class="key"&gt;</span></span><br><span class="line"><span class="regexp">      &lt;kbd&gt;S&lt;/</span>kbd&gt;</span><br><span class="line">      &lt;span <span class="class"><span class="keyword">class</span></span>=<span class="string">"sound"</span>&gt;hihat&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">    &lt;div data-key=<span class="string">"68"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"key"</span>&gt;</span><br><span class="line">      &lt;kbd&gt;D&lt;<span class="regexp">/kbd&gt;</span></span><br><span class="line"><span class="regexp">      &lt;span class="sound"&gt;kick&lt;/</span>span&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;div data-key="70" class="key"&gt;</span></span><br><span class="line"><span class="regexp">      &lt;kbd&gt;F&lt;/</span>kbd&gt;</span><br><span class="line">      &lt;span <span class="class"><span class="keyword">class</span></span>=<span class="string">"sound"</span>&gt;openhat&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">    &lt;div data-key=<span class="string">"71"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"key"</span>&gt;</span><br><span class="line">      &lt;kbd&gt;G&lt;<span class="regexp">/kbd&gt;</span></span><br><span class="line"><span class="regexp">      &lt;span class="sound"&gt;boom&lt;/</span>span&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;div data-key="72" class="key"&gt;</span></span><br><span class="line"><span class="regexp">      &lt;kbd&gt;H&lt;/</span>kbd&gt;</span><br><span class="line">      &lt;span <span class="class"><span class="keyword">class</span></span>=<span class="string">"sound"</span>&gt;ride&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">    &lt;div data-key=<span class="string">"74"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"key"</span>&gt;</span><br><span class="line">      &lt;kbd&gt;J&lt;<span class="regexp">/kbd&gt;</span></span><br><span class="line"><span class="regexp">      &lt;span class="sound"&gt;snare&lt;/</span>span&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;div data-key="75" class="key"&gt;</span></span><br><span class="line"><span class="regexp">      &lt;kbd&gt;K&lt;/</span>kbd&gt;</span><br><span class="line">      &lt;span <span class="class"><span class="keyword">class</span></span>=<span class="string">"sound"</span>&gt;tom&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">    &lt;div data-key=<span class="string">"76"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"key"</span>&gt;</span><br><span class="line">      &lt;kbd&gt;L&lt;<span class="regexp">/kbd&gt;</span></span><br><span class="line"><span class="regexp">      &lt;span class="sound"&gt;tink&lt;/</span>span&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;audio data-key=<span class="string">"65"</span> src=<span class="string">"sounds/clap.wav"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span></span><br><span class="line">  &lt;audio data-key=<span class="string">"83"</span> src=<span class="string">"sounds/hihat.wav"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span></span><br><span class="line">  &lt;audio data-key=<span class="string">"68"</span> src=<span class="string">"sounds/kick.wav"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span></span><br><span class="line">  &lt;audio data-key=<span class="string">"70"</span> src=<span class="string">"sounds/openhat.wav"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span></span><br><span class="line">  &lt;audio data-key=<span class="string">"71"</span> src=<span class="string">"sounds/boom.wav"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span></span><br><span class="line">  &lt;audio data-key=<span class="string">"72"</span> src=<span class="string">"sounds/ride.wav"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span></span><br><span class="line">  &lt;audio data-key=<span class="string">"74"</span> src=<span class="string">"sounds/snare.wav"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span></span><br><span class="line">  &lt;audio data-key=<span class="string">"75"</span> src=<span class="string">"sounds/tom.wav"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span></span><br><span class="line">  &lt;audio data-key=<span class="string">"76"</span> src=<span class="string">"sounds/tink.wav"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br><span class="line">&lt;<span class="regexp">/html&gt;</span></span><br></pre></td></tr></table></figure><br><h3 id="style-css"><a href="#style-css" class="headerlink" title="style.css"></a>style.css</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(http://i.imgur.com/b9r5sEL.jpg) bottom center;</span><br><span class="line">  <span class="attribute">background-size</span>: cover;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span>,</span><br><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: sans-serif;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.keys</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">min-height</span>: <span class="number">100vh</span>;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.key</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">0.4rem</span> solid black;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">0.5rem</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.5rem</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">1rem</span> <span class="number">0.5rem</span>;</span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">0.07s</span> ease;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">10rem</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(0, 0, 0, 0.4);</span><br><span class="line">  <span class="attribute">text-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0.5rem</span> black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.playing</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(1.1);</span><br><span class="line">  <span class="attribute">border-color</span>: <span class="number">#ffc600</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">1rem</span> <span class="number">#ffc600</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">kbd</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">4rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.sound</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.2rem</span>;</span><br><span class="line">  <span class="attribute">text-transform</span>: uppercase;</span><br><span class="line">  <span class="attribute">letter-spacing</span>: <span class="number">0.1rem</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ffc600</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><blockquote><p>éŸ³æª”é€£çµï¼š<a href="https://reurl.cc/72y3N5" target="_blank" rel="noopener">https://reurl.cc/72y3N5</a></p></blockquote><br><h3 id="index-FINISHED-html"><a href="#index-FINISHED-html" class="headerlink" title="index-FINISHED.html"></a>index-FINISHED.html</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"en"</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">  &lt;title&gt;JS Drum Kit&lt;<span class="regexp">/title&gt;</span></span><br><span class="line"><span class="regexp">  &lt;link rel="stylesheet" href="style.css"&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"keys"</span>&gt;</span><br><span class="line">    &lt;div data-key=<span class="string">"65"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"key"</span>&gt;</span><br><span class="line">      &lt;kbd&gt;A&lt;<span class="regexp">/kbd&gt;</span></span><br><span class="line"><span class="regexp">      &lt;span class="sound"&gt;clap&lt;/</span>span&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;div data-key="83" class="key"&gt;</span></span><br><span class="line"><span class="regexp">      &lt;kbd&gt;S&lt;/</span>kbd&gt;</span><br><span class="line">      &lt;span <span class="class"><span class="keyword">class</span></span>=<span class="string">"sound"</span>&gt;hihat&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">    &lt;div data-key=<span class="string">"68"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"key"</span>&gt;</span><br><span class="line">      &lt;kbd&gt;D&lt;<span class="regexp">/kbd&gt;</span></span><br><span class="line"><span class="regexp">      &lt;span class="sound"&gt;kick&lt;/</span>span&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;div data-key="70" class="key"&gt;</span></span><br><span class="line"><span class="regexp">      &lt;kbd&gt;F&lt;/</span>kbd&gt;</span><br><span class="line">      &lt;span <span class="class"><span class="keyword">class</span></span>=<span class="string">"sound"</span>&gt;openhat&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">    &lt;div data-key=<span class="string">"71"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"key"</span>&gt;</span><br><span class="line">      &lt;kbd&gt;G&lt;<span class="regexp">/kbd&gt;</span></span><br><span class="line"><span class="regexp">      &lt;span class="sound"&gt;boom&lt;/</span>span&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;div data-key="72" class="key"&gt;</span></span><br><span class="line"><span class="regexp">      &lt;kbd&gt;H&lt;/</span>kbd&gt;</span><br><span class="line">      &lt;span <span class="class"><span class="keyword">class</span></span>=<span class="string">"sound"</span>&gt;ride&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">    &lt;div data-key=<span class="string">"74"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"key"</span>&gt;</span><br><span class="line">      &lt;kbd&gt;J&lt;<span class="regexp">/kbd&gt;</span></span><br><span class="line"><span class="regexp">      &lt;span class="sound"&gt;snare&lt;/</span>span&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;div data-key="75" class="key"&gt;</span></span><br><span class="line"><span class="regexp">      &lt;kbd&gt;K&lt;/</span>kbd&gt;</span><br><span class="line">      &lt;span <span class="class"><span class="keyword">class</span></span>=<span class="string">"sound"</span>&gt;tom&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">    &lt;div data-key=<span class="string">"76"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"key"</span>&gt;</span><br><span class="line">      &lt;kbd&gt;L&lt;<span class="regexp">/kbd&gt;</span></span><br><span class="line"><span class="regexp">      &lt;span class="sound"&gt;tink&lt;/</span>span&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;audio data-key=<span class="string">"65"</span> src=<span class="string">"sounds/clap.wav"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span></span><br><span class="line">  &lt;audio data-key=<span class="string">"83"</span> src=<span class="string">"sounds/hihat.wav"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span></span><br><span class="line">  &lt;audio data-key=<span class="string">"68"</span> src=<span class="string">"sounds/kick.wav"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span></span><br><span class="line">  &lt;audio data-key=<span class="string">"70"</span> src=<span class="string">"sounds/openhat.wav"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span></span><br><span class="line">  &lt;audio data-key=<span class="string">"71"</span> src=<span class="string">"sounds/boom.wav"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span></span><br><span class="line">  &lt;audio data-key=<span class="string">"72"</span> src=<span class="string">"sounds/ride.wav"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span></span><br><span class="line">  &lt;audio data-key=<span class="string">"74"</span> src=<span class="string">"sounds/snare.wav"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span></span><br><span class="line">  &lt;audio data-key=<span class="string">"75"</span> src=<span class="string">"sounds/tom.wav"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span></span><br><span class="line">  &lt;audio data-key=<span class="string">"76"</span> src=<span class="string">"sounds/tink.wav"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">removeTransition</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (e.propertyName !== <span class="string">'transform'</span>) <span class="keyword">return</span>;</span><br><span class="line">    e.target.classList.remove(<span class="string">'playing'</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">playSound</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> audio = <span class="built_in">document</span>.querySelector(<span class="string">`audio[data-key="<span class="subst">$&#123;e.keyCode&#125;</span>"]`</span>);</span><br><span class="line">    <span class="keyword">const</span> key = <span class="built_in">document</span>.querySelector(<span class="string">`div[data-key="<span class="subst">$&#123;e.keyCode&#125;</span>"]`</span>);</span><br><span class="line">    <span class="keyword">if</span> (!audio) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    key.classList.add(<span class="string">'playing'</span>);</span><br><span class="line">    audio.currentTime = <span class="number">0</span>;</span><br><span class="line">    audio.play();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> keys = <span class="built_in">Array</span>.from(<span class="built_in">document</span>.querySelectorAll(<span class="string">'.key'</span>));</span><br><span class="line">  keys.forEach(<span class="function"><span class="params">key</span> =&gt;</span> key.addEventListener(<span class="string">'transitionend'</span>, removeTransition));</span><br><span class="line">  <span class="built_in">window</span>.addEventListener(<span class="string">'keydown'</span>, playSound);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br><span class="line">&lt;<span class="regexp">/html&gt;</span></span><br></pre></td></tr></table></figure><br><hr><br><h2 id="å­¸ç¿’ç­†è¨˜"><a href="#å­¸ç¿’ç­†è¨˜" class="headerlink" title="å­¸ç¿’ç­†è¨˜"></a>å­¸ç¿’ç­†è¨˜</h2><br><h4 id="â˜…-data-attribute"><a href="#â˜…-data-attribute" class="headerlink" title="â˜… data-attribute"></a>â˜… data-attribute</h4><p>data-attribute å¯ä»¥è®“æˆ‘å€‘åœ¨ HTML å…ƒç´ ä¸ŠåµŒå…¥è‡ªå®šç¾©çš„å±¬æ€§ã€‚</p><ul><li>å±¬æ€§åç¨±ä¸å¾—åŒ…å«ä»»ä½•å¤§å¯«å­—æ¯ï¼Œä¸¦ä¸”å‰ç¶´ â€œdata-â€œ å¾Œå¿…é ˆè‡³å°‘æœ‰ä¸€å€‹å­—æ¯</li><li>å±¬æ€§å€¼å¯ä»¥æ˜¯ä»»ä½•å­—ä¸²</li></ul><p>ï¼Šæ³¨æ„ï¼šå‰ç¶´ç‚ºâ€data-â€œçš„è‡ªå®šç¾©å±¬æ€§æœƒè¢« User-Agent å®Œå…¨å¿½ç•¥ã€‚</p><p>ç¯„ä¾‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"block"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"num01"</span> <span class="attr">data-number</span>=<span class="string">"no1"</span> <span class="attr">onclick</span>=<span class="string">"showMore(this)"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"num02"</span> <span class="attr">data-number</span>=<span class="string">"no2"</span> <span class="attr">onclick</span>=<span class="string">"showMore(this)"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">// é»æ“Šå¾Œæœƒè·³å‡º data-attribute çš„å€¼</span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">showMore</span>(<span class="params">number</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> num = number.getAttribute(<span class="string">"data-number"</span>);</span></span><br><span class="line"><span class="javascript">    alert(<span class="string">"I'm"</span> + num + <span class="string">"."</span>);</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><br><h4 id="â˜…-lt-kbd-gt-æ¨™ç±¤"><a href="#â˜…-lt-kbd-gt-æ¨™ç±¤" class="headerlink" title="â˜… &lt; kbd &gt; æ¨™ç±¤"></a>â˜… &lt; kbd &gt; æ¨™ç±¤</h4><p>&lt; kbd &gt; æ¨™ç±¤è¡¨ç¤ºå…§å®¹æ˜¯ä½¿ç”¨è€…å¾éµç›¤ä¸Šè¼¸å…¥çš„ï¼Œé€šå¸¸ä»¥ç­‰å¯¬å­—é«”å‘ˆç¾ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>è«‹è¼¸å…¥<span class="tag">&lt;<span class="name">kbd</span>&gt;</span>ww<span class="tag">&lt;/<span class="name">kbd</span>&gt;</span>ä¾†è¡¨é”é–‹å¿ƒã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><br><h4 id="â˜…-Arrow-function"><a href="#â˜…-Arrow-function" class="headerlink" title="â˜… Arrow function"></a>â˜… Arrow function</h4><p>lambda åœ¨ JavaScript è£¡å«åš Arrow functionï¼ˆç®­é ­å‡½å¼ï¼‰ã€‚</p><ul><li>ä¸€èˆ¬ js çš„åŒ¿åå‡½å¼é€™æ¨£å¯«ï¼š</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">funtion (key) &#123;</span><br><span class="line">  key.addEventListener(<span class="string">'transitionend'</span>, removeTransition);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ç”¨<code>arrow function</code>çš„å¯«æ³•æ˜¯ï¼š</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">key =&gt; key.addEventListener(<span class="string">"transitionend"</span>, removeTransition);</span><br></pre></td></tr></table></figure><p>ï¼Šä¸åŒä¹‹è™•åœ¨æ–¼<code>this</code>ï¼Œä¸€èˆ¬çš„å¯«æ³•æœ‰<code>this</code>=<code>function</code>æœ¬èº«ï¼Œä½†æ˜¯ã€Œèª°ã€å‘¼å«<code>arrow function</code>ï¼Œã€Œèª°ã€=<code>this</code>ã€‚</p><br><h4 id="â˜…-keycode"><a href="#â˜…-keycode" class="headerlink" title="â˜… keycode"></a>â˜… keycode</h4><p>keyCode å±æ€§è¿”å› onkeypress äº‹ä»¶è§¸ç™¼çš„ key çš„å€¼çš„å­—ä¸²ï¼Œæˆ– onkeydown æˆ– onkeyup äº‹ä»¶çš„ key çš„ä»£ç¢¼ã€‚</p><p>å…©ç¨®ä»£ç¢¼é¡å‹çš„å€åˆ¥ï¼š</p><ul><li>å­—ä¸²ä»£ç¢¼ï¼šè¡¨ç¤º ASCII å­—ç¬¦çš„æ•¸å­—</li><li>éµç›¤ä»£ç¢¼ ï¼š è¡¨ç¤ºéµç›¤ä¸Šå¯¦éš›è¼¸å…¥çš„æ•¸å­—</li></ul><p>ï¼Šæ³¨æ„ï¼šwhich å’Œ keyCode å±¬æ€§è§£æ±ºç€è¦½å™¨å…¼å®¹æ€§çš„å•é¡Œï¼Œä½†æœ€æ–°ç‰ˆæœ¬çš„ DOM äº‹ä»¶æ¨è–¦ä½¿ç”¨ key å±¬æ€§ã€‚ which å’Œ keyCode å±¬æ€§ä¸èƒ½ç”¨æ–¼ onkeypress çš„éæ‰“å°äº‹ä»¶ï¼ŒåŠŸèƒ½éµ (å¦‚ CAPS LOCK, CTRL, ESC, F12, ç­‰)ã€‚</p><p>ç¯„ä¾‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">  <span class="attr">type</span>=<span class="string">"text"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">size</span>=<span class="string">"50"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">onkeypress</span>=<span class="string">"uniCharCode(event)"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">onkeydown</span>=<span class="string">"uniKeyCode(event)"</span></span></span><br><span class="line"><span class="tag">/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>onkeypress - <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"demo"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>onkeydown - <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"demo2"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">uniCharCode</span>(<span class="params">event</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> char = event.which || event.keyCode; <span class="comment">// ä½¿ç”¨ which æˆ– keyCode, ä»¥æ”¯æ´ä¸åŒç€è¦½å™¨</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.getElementById(<span class="string">"demo"</span>).innerHTML = <span class="string">" Unicode å­—ç¬¦ä»£ç¢¼ç‚º: "</span> + char;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">uniKeyCode</span>(<span class="params">event</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> key = event.keyCode;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.getElementById(<span class="string">"demo2"</span>).innerHTML = <span class="string">" Unicode éµä»£ç¢¼ç‚º: "</span> + key;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><br><h4 id="â˜…-Audio-æ’­æ”¾æ–¹æ³•"><a href="#â˜…-Audio-æ’­æ”¾æ–¹æ³•" class="headerlink" title="â˜… Audio æ’­æ”¾æ–¹æ³•"></a>â˜… Audio æ’­æ”¾æ–¹æ³•</h4><p><code>play()</code> æ–¹æ³•æ’­æ”¾éŸ³æª”ã€‚</p><p><code>pause()</code> æ–¹æ³•åœæ­¢æ’­æ”¾éŸ³æª”ã€‚</p><p>ç¯„ä¾‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="built_in">document</span>.getElementById(<span class="string">"myAudio"</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">playAudio</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  x.play();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pauseAudio</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  x.pause();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><h4 id="â˜…-setTimeout"><a href="#â˜…-setTimeout" class="headerlink" title="â˜… setTimeout()"></a>â˜… setTimeout()</h4><p><code>setTimeout()</code> æ–¹æ³•ç”¨æ–¼åœ¨æŒ‡å®šçš„æ¯«ç§’æ•¸å¾Œèª¿ç”¨å‡½å¼æˆ–è¨ˆç®—è¡¨é”å¼ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var timeoutID = scope.setTimeout(function[, delay, param1, param2, ...]);</span><br><span class="line">var timeoutID = scope.setTimeout(function[, delay]);</span><br><span class="line"><span class="keyword">var</span> timeoutID = scope.setTimeout(code[, delay]);</span><br></pre></td></tr></table></figure><p>ï¼Šæ³¨æ„ï¼š<code>setTimeout()</code> åªæœƒåŸ·è¡Œä¸€æ¬¡å°±çµæŸï¼Œè€Œ <code>setInterval()</code> å‰‡æ˜¯æœƒåœ¨é–“éš”å›ºå®šçš„æ™‚é–“ä¸æ–·é‡è¤‡ã€‚è¿”å›å€¼ <code>timeoutID</code>æ˜¯ä¸€å€‹æ­£æ•´æ•¸ï¼Œè¡¨ç¤ºå®šæ™‚å™¨çš„ç·¨è™Ÿã€‚é€™å€‹å€¼å¯ä»¥å‚³éçµ¦ <code>clearTimeout()</code> ä¾†å–æ¶ˆè©²å®šæ™‚å™¨ã€‚</p><p>ç¯„ä¾‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> timeoutID;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">delayedAlert</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  timeoutID = <span class="built_in">window</span>.setTimeout(slowAlert, <span class="number">2000</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">slowAlert</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  alert(<span class="string">"That was really slow!"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clearAlert</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">window</span>.clearTimeout(timeoutID);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><h4 id="â˜…-currentTime"><a href="#â˜…-currentTime" class="headerlink" title="â˜… currentTime"></a>â˜… currentTime</h4><p>currentTime å±¬æ€§è¨­ç½®æˆ–è¿”å›å½±éŸ³æª”æ’­æ”¾çš„ç•¶å‰ä½ç½®ï¼ˆä»¥ç§’è¨ˆï¼‰ã€‚ç•¶è¨­ç½®è©²å±¬æ€§æ™‚ï¼Œæ’­æ”¾æœƒè·³èºåˆ°æŒ‡å®šçš„ä½ç½®ã€‚</p><p>ç¯„ä¾‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;audio id=<span class="string">"myAudio"</span> controls&gt;</span><br><span class="line">    &lt;source src=<span class="string">"å½±éŸ³æª”.mp3"</span> type=<span class="string">"audio/mpeg"</span>&gt;</span><br><span class="line">&lt;<span class="regexp">/audio&gt;</span></span><br><span class="line"><span class="regexp">&lt;button onclick="getCurTime()" type="button"&gt;å–å¾—ç•¶å‰æ™‚é–“&lt;/</span>button&gt;</span><br><span class="line">&lt;button onclick=<span class="string">"setCurTime()"</span> type=<span class="string">"button"</span>&gt;è¨­ç½®æ™‚é–“ç‚º <span class="number">1</span> ç§’ &lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">var x = document.getElementById("myAudio");</span></span><br><span class="line"><span class="regexp">function getCurTime()&#123;</span></span><br><span class="line"><span class="regexp">alert(x.currentTime);</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">function setCurTime()&#123;</span></span><br><span class="line"><span class="regexp">x.currentTime = 1;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;JS30 Day01&lt;br&gt;ç¬¬ä¸€å¤©å°±å­¸åˆ°äº†å¾ˆå¤šèªæ³•èˆ‡å¯¦éš›æ‡‰ç”¨ï¼Œæ˜¯å€‹æ”¶ç©«éå¸¸è±å¯Œçš„é–‹å§‹ï¼:D&lt;/p&gt;
    
    </summary>
    
    
      <category term="JS30" scheme="https://chaichai.site/categories/JS30/"/>
    
    
      <category term="ç¨‹å¼ç­†è¨˜" scheme="https://chaichai.site/tags/%E7%A8%8B%E5%BC%8F%E7%AD%86%E8%A8%98/"/>
    
      <category term="Javascript" scheme="https://chaichai.site/tags/Javascript/"/>
    
      <category term="JS30" scheme="https://chaichai.site/tags/JS30/"/>
    
  </entry>
  
  <entry>
    <title>Rails ORM</title>
    <link href="https://chaichai.site/2019/10/31/rails_orm/"/>
    <id>https://chaichai.site/2019/10/31/rails_orm/</id>
    <published>2019-10-30T16:00:00.000Z</published>
    <updated>2019-10-31T13:20:41.683Z</updated>
    
    <content type="html"><![CDATA[<p>ORM ä¹‹ CRUD / Scope / Validates / Callback</p><a id="more"></a><hr><br><ul><li><p>ORM = Object Relational Mapping</p></li><li><p>Active Record ï¼ æŠŠè³‡æ–™åšæˆç‰©ä»¶<br>Active Record æ˜¯ä¸€ç¨® ORM æ¡†æ¶<br>ç‰©ä»¶ = æ¬„ä½ + åŸºæœ¬æ“ä½œ + å•†æ¥­é‚è¼¯</p></li><li><p>Model = ä¾ç…§ Active Record æ¨¡å¼è¨­è¨ˆçš„ç”¢ç‰©<br>å¯ä»¥ç¿»è­¯æˆå®…å®…èªè¨€çš„ï¼š<br>Model = Active_record.new</p><br></li></ul><hr><h1 id="ORM-CRUD"><a href="#ORM-CRUD" class="headerlink" title="ORM CRUD"></a>ORM CRUD</h1><br><h2 id="Create"><a href="#Create" class="headerlink" title="Create"></a>Create</h2><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">book = Product.new(<span class="symbol">name:</span> <span class="string">'Ruby book'</span>, <span class="symbol">price:</span> <span class="number">350</span>)</span><br><span class="line">book.save <span class="comment"># åˆ°é€™â¼€æ­¥æ‰å­˜åˆ°è³‡æ–™åº«è£¡</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å»ºç«‹ä¸¦åŒæ™‚å­˜åˆ° products è¡¨æ ¼è£¡:</span></span><br><span class="line">Product.create(<span class="symbol">name:</span> <span class="string">'Ruby book'</span>, <span class="symbol">price:</span><span class="number">350</span>)</span><br></pre></td></tr></table></figure><ul><li>new æ–¹æ³•æœƒå»ºç«‹ä¸€ç­†è³‡æ–™ï¼Œä½†é‚„ä¸æœƒå­˜åˆ°è³‡æ–™åº«è£¡ã€‚</li><li>create å¤±æ•—æœƒ rollback ï¼Œå¯ä»¥ç”¨ if åˆ¤æ–·</li><li>create! å¤±æ•—æœƒ errorï¼Œéœ€è¦ç”¨ begin rescue æŠ“ä¾‹å¤–</li></ul><br><h2 id="Read"><a href="#Read" class="headerlink" title="Read"></a>Read</h2><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Product.first</span><br><span class="line">Product.last</span><br><span class="line">Product.find(<span class="number">1</span>) <span class="comment"># åªèƒ½ç”¨ id æ‰¾ï¼Œæ‰¾ä¸åˆ°æœƒä¾‹å¤–</span></span><br><span class="line">Product.find_by(<span class="symbol">id:</span> <span class="number">1</span>) <span class="comment"># èƒ½ç”¨ name ç­‰å…¶ä»–æ±è¥¿æ‰¾ï¼Œæ‰¾ä¸åˆ°æœƒ nil</span></span><br><span class="line">Product.find_by_sql(<span class="string">"select \* from products where id = 1"</span>)</span><br><span class="line">Product.find_each <span class="keyword">do</span> <span class="params">| product |</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é è¨­æŠ“ 1000 ç­†</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">Owner.find_by_name_and_email_and_id <span class="comment"># é‚„æœ‰é€™ç¨®ç¥å¥‡çš„å¯«æ³•ï¼Œä½†æ•ˆèƒ½è¼ƒå·®</span></span><br><span class="line">Owner.find_by(<span class="symbol">name:</span><span class="string">'kk'</span>, <span class="symbol">email:</span><span class="string">'ddd'</span>) <span class="comment"># æ•ˆèƒ½æ¯”è¼ƒå¥½</span></span><br></pre></td></tr></table></figure><ul><li>é‚„æœ‰è¨±å¤šè®€å–æ–¹å¼</li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Product.all <span class="comment"># çŸ¥é“æŸ¥ä»€éº¼æ™‚å°±ä¸ç”¨æ”¾ all (ä¸éœ€è¦æ¯æ¬¡éƒ½æ”¾)</span></span><br><span class="line">Product.select(<span class="string">'name'</span>)</span><br><span class="line">Product.where(<span class="symbol">name:</span> <span class="string">'Ruby'</span>) <span class="comment"># æ‰¾åˆ°å…¨éƒ¨ name çš„é™£åˆ—</span></span><br><span class="line">Product.find_by(<span class="symbol">name:</span> <span class="string">'Ruby'</span>) <span class="comment"># åªæœƒæ‰¾åˆ°ä¸€ç­†</span></span><br><span class="line">Product.order(<span class="string">'id DESC'</span>)</span><br><span class="line">Product.order(<span class="symbol">id:</span> <span class="symbol">:desc</span>)</span><br><span class="line">Product.limit(<span class="number">5</span>)</span><br><span class="line">Owner.select(<span class="symbol">:name</span>).where(<span class="symbol">name:</span><span class="string">'o1'</span>) <span class="comment"># å¯ä»¥ç”¨çµ„åˆæŠ€ï¼Œçœè¨˜æ†¶é«”ç©ºé–“</span></span><br><span class="line">Product.where(<span class="string">'price &lt; 10'</span>) <span class="comment"># æŸ¥è©¢å¤§æ–¼å°æ–¼åªèƒ½ç”¨å­—ä¸²</span></span><br><span class="line">Owner.where(<span class="symbol">name:</span><span class="string">'ruby'</span>).first</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç›´æ¥ limit 1 ç­†ï¼Œè¼ƒçœè¨˜æ†¶é«”ç©ºé–“</span></span><br><span class="line"></span><br><span class="line">all = Owner.where(<span class="symbol">name:</span><span class="string">'ruby'</span>)</span><br><span class="line">all.first</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŠŠå…¨éƒ¨è³‡æ–™éƒ½æŠ“å‡ºä¾†å­˜åˆ°è¨˜æ†¶é«”ï¼Œå†æŠ“ç¬¬ä¸€å€‹ï¼Œéå¸¸å ç©ºé–“</span></span><br></pre></td></tr></table></figure><ul><li>å¥½ç”¨çš„æ–¹æ³•å€‘ï¼ˆä¸è¦å‚»å‚»çš„ç”¨ ORM æŠ“å‡ºä¾†è½‰è¿´åœˆå†ä¾†è¨ˆç®—ï¼‰<ul><li>count</li><li>average</li><li>sum</li><li>maximum èˆ‡ minimum</li></ul></li></ul><br><h2 id="Update"><a href="#Update" class="headerlink" title="Update"></a>Update</h2><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">p1 = Product.find_by(<span class="symbol">id:</span> <span class="number">1</span>) <span class="comment"># å„²å­˜</span></span><br><span class="line">p1.name = <span class="string">'Ruby book'</span> p1.save <span class="comment"># ï¤æ–°</span></span><br><span class="line">p1.update(<span class="symbol">name:</span> <span class="string">'Ruby book'</span>)</span><br><span class="line">p1.update_attributes(<span class="symbol">name:</span> <span class="string">'Ruby book'</span>) <span class="comment"># update å…©è€…ç›¸åŒï¼Œé€™è¡Œå¯ä»¥ä¸ç”¨ï¼ˆå¤ªé•·ï¼‰</span></span><br><span class="line"></span><br><span class="line">Product.update_all(<span class="symbol">name:</span> <span class="string">'Ruby book'</span>, <span class="symbol">price:</span> <span class="number">250</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…¨éƒ¨ï¤æ–°(è«‹â¼©å¿ƒä½¿â½¤!)</span></span><br></pre></td></tr></table></figure><ul><li>å…¶ä»–æ–¹æ³•</li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># increment / decrement ä¸æœƒè‡ªå·± save ä½† increment! æœƒç›´æ¥å­˜</span></span><br><span class="line"></span><br><span class="line">my_order = Order.first</span><br><span class="line">my_order.increment(<span class="symbol">:quantity</span>) <span class="comment"># quantity æ¬„ä½çš„å€¼ + 1</span></span><br><span class="line">my_order.toggle(<span class="symbol">:is_online</span>) <span class="comment"># æŠŠåŸæœ¬çš„ true/false å€¼å°èª¿</span></span><br></pre></td></tr></table></figure><br><h2 id="Delete"><a href="#Delete" class="headerlink" title="Delete"></a>Delete</h2><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">p1 = Product.find_by(<span class="symbol">id:</span> <span class="number">1</span>)</span><br><span class="line">p1.destroy <span class="comment"># æœƒèµ° callback æµç¨‹ï¼Œéç¨‹å¯ä»¥åšæª¢æŸ¥</span></span><br><span class="line">p1.delete <span class="comment"># ç›´æ¥åˆªé™¤</span></span><br><span class="line">Product.delete(<span class="number">1</span>) <span class="comment"># åˆªé™¤ç·¨è™Ÿ 1 è™Ÿçš„å•†å“</span></span><br><span class="line">Product.destroy_all(<span class="string">"price &lt; 10"</span>) <span class="comment"># åˆªé™¤æ‰€æœ‰ä½æ–¼ 10 å…ƒçš„å•†å“</span></span><br></pre></td></tr></table></figure><br><hr><h1 id="ORM-å…¶ä»–"><a href="#ORM-å…¶ä»–" class="headerlink" title="ORM å…¶ä»–"></a>ORM å…¶ä»–</h1><br><h2 id="Scope"><a href="#Scope" class="headerlink" title="Scope"></a>Scope</h2><ul><li>æŠŠä¸€ç¾¤æ¢ä»¶æ•´ç†æˆä¸€å€‹</li><li>Scope ç°¡åŒ–ä½¿ç”¨æ™‚çš„é‚è¼¯</li><li>æ¸›å°‘åœ¨ Controller è£¡å¯«ä¸€å † Where çµ„åˆ</li><li>ç”¨èµ·ä¾†è·Ÿé¡åˆ¥æ–¹æ³•ä¸€æ¨£</li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># model æª”</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Product</span> &lt; ApplicationRecord</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">self</span>.<span class="title">cheap</span></span></span><br><span class="line">where(<span class="string">'price &lt; 10'</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸Šä¸‹å…©è€…ç›¸åŒ</span></span><br><span class="line"></span><br><span class="line">scope <span class="symbol">:cheap</span>, -&gt;&#123;where(<span class="string">'price &lt; 15'</span>)&#125;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åŒåæ–¹æ³•çš„è©±å¾Œé¢æœƒè“‹æ‰å‰é¢ çµæœç‚º price &lt; 15</span></span><br></pre></td></tr></table></figure><ul><li>default_scope å¯å¹«æ‰€æœ‰çš„æŸ¥è©¢é è¨­å¥—ç”¨</li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Product</span> &lt; ApplicationRecord</span></span><br><span class="line">  default_scope &#123; order(<span class="string">'id DESC'</span>) &#125;</span><br><span class="line">  scope <span class="symbol">:available</span>, -&gt; &#123; where(<span class="symbol">is_available:</span> <span class="literal">true</span>) &#125;</span><br><span class="line">  default_scope &#123; where(<span class="symbol">deleted:</span> <span class="literal">false</span>) &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‡‰ç”¨å ´æ™¯ï¼šå‡åˆªé™¤/è»Ÿåˆªé™¤ è®“è¢«åˆªé™¤è³‡æ–™ä¸é¡¯ç¤º</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><blockquote><p>Q: scope è·Ÿé¡åˆ¥æ–¹æ³•æœ‰ä»€éº¼ä¸ä¸€æ¨£?<br>A: ä¸€æ¨£<br>Q: ä»€éº¼æ™‚å€™è©²ç”¨ä»€éº¼å¯«æ³•?<br>A: åªæœ‰ä¸€è¡Œæ™‚å¯« scopeï¼Œå¤šè¡Œå°±å¯«é¡åˆ¥æ–¹æ³•</p></blockquote><br><h2 id="Validates"><a href="#Validates" class="headerlink" title="Validates"></a>Validates</h2><ul><li>æ–¹æ³•å€‘ï¼š<ul><li>presence</li><li>format</li><li>uniqueness</li><li>numericality</li><li>length</li><li>condition</li></ul></li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è‡ªè¨‚é©—è­‰</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Product</span> &lt; ApplicationRecord</span></span><br><span class="line">  validate <span class="symbol">:name_validator</span></span><br><span class="line">  </span><br><span class="line">  private</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">name_validator</span></span></span><br><span class="line">      <span class="keyword">unless</span> name.starts_with? <span class="string">'Ruby'</span></span><br><span class="line">        errors[<span class="symbol">:name</span>] &lt;&lt; <span class="string">'must begin with Ruby'</span> </span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BeginWithRubyValidator</span> &lt; ActiveModel::EachValidator</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">validate_each</span><span class="params">(record, attribute, value)</span></span></span><br><span class="line">    <span class="keyword">unless</span> value.starts_with? <span class="string">'Ruby'</span></span><br><span class="line">      record.errors[attribute] &lt;&lt; <span class="string">'must begin with Ruby'</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Product</span> &lt; ApplicationRecord</span></span><br><span class="line">  validates <span class="symbol">:name</span>, <span class="symbol">presence:</span> <span class="literal">true</span>, <span class="symbol">begin_with_ruby:</span> <span class="literal">true</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><ul><li>è‡ªè¨‚é©—è­‰å¯«åœ¨ lib è£¡æ›´å¥½</li><li>è³‡æ–™é©—è­‰éç¨‹ï¼š<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">p1 = Product.new <span class="comment"># å¿˜äº†å¯«ç”¢å“åç¨±ï¼Œä½†é‚„æ²’å¯«å…¥è³‡æ–™åº«</span></span><br><span class="line"></span><br><span class="line">p1.errors.any? <span class="comment"># çœ‹çœ‹æœ‰æ²’éŒ¯èª¤...</span></span><br><span class="line">=&gt; false <span class="comment"># é€™æ™‚å€™é‚„æ²’ç™¼â½£ç”ŸéŒ¯èª¤</span></span><br><span class="line"></span><br><span class="line">p1.validate <span class="comment"># é–‹å§‹é€²â¾è¡Œï¨ˆé©—è­‰(é‚„ä¸éœ€è¦å­˜æª”å–”)</span></span><br><span class="line">=&gt; false <span class="comment"># å¾—åˆ° false è¡¨â½°ç¤ºæ²’æœ‰é©—è­‰æˆåŠŸ</span></span><br><span class="line"></span><br><span class="line">p1.errors.any? <span class="comment"># çœ‹çœ‹æœ‰æ²’æœ‰éŒ¯èª¤...</span></span><br><span class="line">=&gt; true <span class="comment"># é€™æ™‚å€™å°±æœ‰éŒ¯èª¤å…§å®¹äº†ï¦º</span></span><br><span class="line"></span><br><span class="line">p1.errors.full_messages</span><br><span class="line">=&gt; [<span class="string">"Title can't be blank"</span>] <span class="comment"># ä½¿â½¤ full_messages å¯æŠŠè³‡æ–™å°å‡ºä¾†</span></span><br></pre></td></tr></table></figure></li></ul><blockquote><p>Q: ç¡¬æ˜¯è¦ç¹éé©—è­‰å¯ä»¥å—?<br>A: å¯ä»¥ï¼Œç¹éé©—è­‰çš„æ–¹å¼å¦‚ä¸‹ï¼ˆä½†ä¸è¦é€™éº¼åšå•¦ï¼‰<br>cc.save(validates: false)<br>Q: åªè¦æœ‰é©—è­‰å°±å¯ä»¥ä¿è­‰è³‡æ–™æ­£ç¢ºå—?<br>A: ä¸ï¼Œé©—è­‰æ˜¯ç¶åœ¨ model ï¼Œå¦ä¸€å€‹ç³»çµ±è‹¥ç›´æ¥å¯«é€²è³‡æ–™è¡¨å°±ä¸è¡Œ</p></blockquote><br><h2 id="Callback"><a href="#Callback" class="headerlink" title="Callback"></a>Callback</h2><ul><li><p>è³‡æ–™å­˜æª”çš„æµç¨‹æœƒç¶“éä»¥ä¸‹æµç¨‹ï¼Œå¯åœ¨é€™äº›æµç¨‹åŸ·è¡Œçš„æ™‚å€™å°è³‡æ–™åšä¸€äº›äº‹æƒ…</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">save &gt; valid &gt; before_validation &gt; validate &gt; after_validate &gt; before_save &gt; before_create &gt; create &gt; after_create &gt; after_save &gt; after_commit</span><br></pre></td></tr></table></figure></li><li><p>åœ¨è³‡æ–™å­˜æª”å‰å°å¯†ç¢¼åŠ å¯†</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> &lt; ApplicationRecord</span></span><br><span class="line">  before_save <span class="symbol">:encrypt_email</span></span><br><span class="line">  private</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">encrypt_email</span></span></span><br><span class="line">    <span class="keyword">require</span> <span class="string">'digest'</span></span><br><span class="line">    <span class="keyword">self</span>.email = Digest::MD5.hexdigest(email)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure></li></ul><blockquote><p>Q: åœ¨ç¯„ä¾‹ä¸­ï¼Œå¦‚æœæ”¹ç”¨ before_save æœƒé€ æˆä»€éº¼å•é¡Œ?<br>A: æ‡‰è©²ç”¨ before_create ï¼ŒåŠ å¯†åªæ‡‰è©²åœ¨å»ºç«‹æ™‚åšï¼Œä¸æ‡‰è©²æ¯æ¬¡æ›´æ–°éƒ½åš<br>Q: before_save è·Ÿ before_create æœ‰ä»€éº¼å·®åˆ¥?<br>A: before_save åœ¨æ–°å¢ / å­˜æª”æ™‚éƒ½æœƒåšï¼Œbefore_create åªæœ‰åœ¨æ–°å¢æ™‚åš</p></blockquote><br>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ORM ä¹‹ CRUD / Scope / Validates / Callback&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç¨‹å¼ç­†è¨˜" scheme="https://chaichai.site/categories/%E7%A8%8B%E5%BC%8F%E7%AD%86%E8%A8%98/"/>
    
    
      <category term="Ruby" scheme="https://chaichai.site/tags/Ruby/"/>
    
      <category term="Rails" scheme="https://chaichai.site/tags/Rails/"/>
    
      <category term="ç¨‹å¼ç­†è¨˜" scheme="https://chaichai.site/tags/%E7%A8%8B%E5%BC%8F%E7%AD%86%E8%A8%98/"/>
    
  </entry>
  
  <entry>
    <title>RESTful API</title>
    <link href="https://chaichai.site/2019/10/27/restful_api/"/>
    <id>https://chaichai.site/2019/10/27/restful_api/</id>
    <published>2019-10-26T16:00:00.000Z</published>
    <updated>2019-11-01T04:59:42.163Z</updated>
    
    <content type="html"><![CDATA[<p>ç‚ºäº†ç†è§£ç›®å‰ API è¨­è¨ˆçš„ä¸»æµï¼Œè©¦è‘—æ•´ç†äº†ç¶²è·¯ä¸Šçš„è§£èªªæ–‡ç« ï¼Œä½œç‚ºå­¸ç¿’ç­†è¨˜ã€‚</p><a id="more"></a><hr><h2 id="ä½•è¬‚-RESTful"><a href="#ä½•è¬‚-RESTful" class="headerlink" title="ä½•è¬‚ RESTful?"></a>ä½•è¬‚ RESTful?</h2><p>ç°¡å–®ä¾†èªªï¼Œå°±æ˜¯æŠŠæ¯å€‹ç¶²å€ç•¶åšè³‡æºï¼ˆResourceï¼‰ä¾†çœ‹å¾…ï¼Œå°åŒä¸€å€‹è³‡æºåšä¸åŒçš„å‹•ä½œï¼ˆHTTP Verbï¼‰æœƒå¾—åˆ°ä¸åŒçš„çµæœã€‚<br>ç¬¦åˆ REST æ¦‚å¿µè¨­è¨ˆçš„ç¶²å€ï¼Œåˆç¨±ä¹‹ RESTful Routeã€‚</p><br><ul><li><p>REST å…¨å</p><ul><li>Resource : è³‡æº</li><li>Representational : JSON, XML, YAML..</li><li>State Transfer : ç‹€æ…‹å‚³è¼¸ï¼Œé€é HTTP å‹•è©å¯¦ç¾</li></ul></li></ul><ul><li><p>API ç¯„ä¾‹</p><ul><li>é RESTful çš„ API å¯èƒ½é•·é€™æ¨£ï¼š</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/api/get_file/ ( å¾—åˆ°æª”æ¡ˆ )</span><br><span class="line">/api/upload_file/ ( æ–°å¢æª”æ¡ˆ )</span><br><span class="line">/api/update_file/ ( æ›´æ–°æª”æ¡ˆ )</span><br><span class="line">/api/delete_file/ ( åˆªé™¤æª”æ¡ˆ )</span><br></pre></td></tr></table></figure><ul><li>RESTful API ï¼š</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/api/files/ ( GET -&gt; å¾—åˆ°æª”æ¡ˆ )</span><br><span class="line">/api/files/ ( POST -&gt; æ–°å¢æª”æ¡ˆ )</span><br><span class="line">/api/files/ ( PUT -&gt; æ›´æ–°æª”æ¡ˆ)</span><br><span class="line">/api/files/ ( DELETE -&gt; åˆªé™¤æª”æ¡ˆ )</span><br></pre></td></tr></table></figure></li></ul><br><h3 id="RESTful-Triangle"><a href="#RESTful-Triangle" class="headerlink" title="RESTful Triangle"></a>RESTful Triangle</h3><p><img src="https://image.slidesharecdn.com/asitrest-150317020843-conversion-gate01/95/learn-rest-api-at-asit-6-638.jpg?cb=1426576159" alt="ç›¸é—œåœ–ç‰‡"></p><ol><li>Nouns åè©ï¼šå®šç¾©ç¶²å€çš„ URLï¼Œæ¯å€‹è³‡æºåƒ…æœ‰ä¸€å€‹å”¯ä¸€çš„è­˜åˆ¥ä½ç½®ï¼Œå°±åƒå®¶çš„ä½å€ã€‚</li><li>Verbs å‹•è©ï¼šæè¿°äº†å° Nouns åè© (è³‡æº URL) çš„æ“ä½œå‹•ä½œï¼Œåœ¨ HTTP 1.1 çš„å¯¦ä½œå°±æ˜¯ HTTP Methodã€‚</li><li>Content Types è³‡æºå‘ˆç¾æ–¹å¼ï¼šæ¯”å¦‚å–å¾—æŸä¸€å€‹ URL æ–‡ç« çš„ HTML æ ¼å¼ã€æˆ–è€… XML æ ¼å¼ï¼ŒåŒæ¨£çš„ URL è³‡æºå¯ä»¥æœ‰ä¸åŒå‹æ…‹çš„è¡¨ç¾æ–¹å¼ã€‚</li></ol><p>å»ºè­°åœ¨è¨­è¨ˆ API è¦æ ¼æ™‚ï¼ŒåŒæ™‚æ€è€ƒä¸Šè¿°çš„è¨­è¨ˆåŸå‰‡ï¼Œå¥½è®“ API è¨­è¨ˆæ›´æ¥è¿‘ REST ç²¾ç¥ã€‚</p><br><hr><br><h2 id="RESTful-API-è¨­è¨ˆè¦é»"><a href="#RESTful-API-è¨­è¨ˆè¦é»" class="headerlink" title="RESTful API è¨­è¨ˆè¦é»"></a>RESTful API è¨­è¨ˆè¦é»</h2><br><h3 id="HTTP-å‹•è©"><a href="#HTTP-å‹•è©" class="headerlink" title="HTTP å‹•è©"></a>HTTP å‹•è©</h3><p>åœ¨<em>HTTP*é€šè¨Šå”å®šä¸­åˆ¶å®šäº†ä¹ç¨®å‹•è©</em>(Verbs)<em>ä¾†è·Ÿä¼ºæœå™¨æºé€šï¼Œåˆ†åˆ¥æ˜¯</em>HEAD*ã€_GET_ã€_POST_ã€_PUT_ã€_PATCH_ã€_DELETE_ã€_TRACE_ã€_OPTIONS_ã€_CONNECT_ã€‚</p><ul><li>å¸¸ç”¨çš„ HTTP methodï¼š</li></ul><table><thead><tr><th align="left">HTTP</th><th>Method Idempotent</th><th>Safe</th></tr></thead><tbody><tr><td align="left">GETï¼ˆè®€å–è³‡æºï¼‰</td><td>yes</td><td>yes</td></tr><tr><td align="left">HEADï¼ˆé¡ä¼¼ GETï¼Œä½†åªå›å‚³ HTTP headerï¼‰</td><td>yes</td><td>yes</td></tr><tr><td align="left">PUT ï¼ˆæ›¿æ›è³‡æºï¼‰</td><td>yes</td><td>no</td></tr><tr><td align="left">POSTï¼ˆæ–°å¢è³‡æºï¼‰</td><td>no</td><td>no</td></tr><tr><td align="left">DELETEï¼ˆåˆªé™¤è³‡æºï¼‰</td><td>yes</td><td>no</td></tr><tr><td align="left">PATCHï¼ˆæ›´æ–°è³‡æºéƒ¨ä»½å…§å®¹ï¼‰</td><td>no</td><td>no</td></tr></tbody></table><ul><li><p>Safe / Idempotent</p><ul><li><p>ã€Œsafeã€æ˜¯æŒ‡è©²æ“ä½œä¸æœƒæ”¹è®Šä¼ºæœå™¨ç«¯çš„è³‡æºç‹€æ…‹ï¼ˆè€Œä¸”çµæœå¯ä»¥è¢« cacheï¼‰</p></li><li><p>ã€Œidempotentã€æ˜¯æŒ‡è©²æ“ä½œä¸ç®¡åš 1 éæˆ–åš n éï¼Œéƒ½æœƒå¾—åˆ°åŒæ¨£çš„è³‡æºç‹€æ…‹çµæœï¼ˆä½†ä¸ä¸€å®šå¾—åˆ°åŒæ¨£çš„å›å‚³å€¼ï¼Œä¾‹å¦‚ç¬¬ 2 æ¬¡ DELETE è«‹æ±‚å¯èƒ½å›å‚³ 404ï¼‰ï¼Œå› æ­¤ client ç«¯å¯ä»¥æ”¾å¿ƒ retryã€‚</p></li></ul></li></ul><ul><li><p>PUTã€POST å’Œ PATCH å®¹æ˜“æ··æ·†ï¼Œè£œå……èªªæ˜å¦‚ä¸‹ï¼š</p><ol><li><strong>PUT</strong>é€šå¸¸æ˜¯ç”¨ä¾†æ›¿æ›å–®ä¸€è³‡æºæˆ–è³‡æºé›†åˆ (resource collection) çš„å…§å®¹ã€‚</li><li><strong>POST</strong>é™¤äº†ç”¨ä¾†æ–°å¢è³‡æºï¼Œä¹Ÿä½œç‚º catch-all ç”¨é€”ï¼Œä¾‹å¦‚ç”¨åœ¨ utility APIã€‚ï¼ˆUtility API æ˜¯ä¸åŒæ–¼ä¸€èˆ¬è³‡æºè®€å¯«æ“ä½œçš„è¦æ±‚é¡å‹ï¼Œä¾‹å¦‚æª¢æŸ¥æŸå€‹ä¿ƒéŠ·æ´»å‹•ç¢¼æ˜¯å¦æœ‰æ•ˆã€‚ï¼‰</li><li><strong>PATCH</strong>ç”¨ä¾†æ›´æ–°è³‡æºéƒ¨ä»½å…§å®¹ã€‚å‰å¹¾å¹´æœ‰äººæœƒç”¨ POST ä»£æ›¿ PATCHï¼Œç¾åœ¨æ‡‰è©²æ²’é€™å¿…è¦äº†ï¼›å»ºè­°é™¤é infrastructure æœ‰é™åˆ¶ï¼Œå¦å‰‡ç›´æ¥ç”¨ PATCH å³å¯ã€‚</li></ol></li></ul><br><h3 id="URI-åè©"><a href="#URI-åè©" class="headerlink" title="URI åè©"></a>URI åè©</h3><p>ç›¸å°æ–¼ HTTP å‹•è©ï¼ŒURI å°±æ˜¯åè©äº†ã€‚URI ç”± prefix + API endpoint çµ„æˆã€‚Prefix çš„éƒ¨ä»½å¯æœ‰å¯ç„¡ï¼Œä¾‹å¦‚<code>/api</code>æˆ–<code>/api/v1</code>ã€‚API endpoint çš„è¨­è¨ˆï¼Œå¹¾å€‹é‡è¦åŸå‰‡å¦‚ä¸‹ï¼š</p><ul><li>ä¸€èˆ¬è³‡æºç”¨è¤‡æ•¸åè©ï¼Œä¾‹å¦‚ <code>/books</code> æˆ– <code>/books/123</code><ul><li>æœ‰äº›äººèªç‚ºç”¨å–®æ•¸æ¯”è¼ƒå¥½ï¼Œå› ç‚º<code>/book/123</code>çœ‹ä¼¼æ¯”<code>/books/123</code>åˆç†ï¼›ä½†æƒ³æƒ³æª”æ¡ˆç³»çµ±çš„ç›®éŒ„å‘½åï¼ˆä¾‹å¦‚<code>/Users</code>æˆ–<code>/Documents</code>ï¼‰ï¼Œå…¶å¯¦ç”¨è¤‡æ•¸ä¹Ÿæ²’å•é¡Œã€‚è¤‡æ•¸å¯ä»¥ä¿æŒ API endpoint çš„ä¸€è‡´æ€§ï¼Œæ‰€ä»¥ä¸€èˆ¬è³‡æºå»ºè­°ç”¨è¤‡æ•¸ã€‚</li></ul></li><li>å”¯ä¸€è³‡æºï¼ˆäº¦å³å° client è€Œè¨€åªæœ‰ä¸€ä»½çš„è³‡æºï¼‰ç”¨<strong>å–®æ•¸åè©</strong>ã€‚ä¾‹å¦‚<a href="https://developer.github.com/v3/activity/watching/#list-repositories-being-watched" target="_blank" rel="noopener">GitHub watching API</a>ä¸­çš„<code>GET /user/subscriptions</code>ï¼Œå…¶ä¸­<code>user</code>æ˜¯æŒ‡ç›®å‰é©—è­‰çš„ä½¿ç”¨è€…ï¼Œæ‰€ä»¥ç”¨å–®æ•¸ã€‚</li><li>è³‡æºçš„å±¤ç´šæ¶æ§‹ï¼Œå¯ä»¥é©ç•¶åæ‡‰åœ¨ API endpoint è¨­è¨ˆä¸Šï¼Œä¾‹å¦‚<code>/books/123/chapters/2</code>ã€‚</li><li>Utility API èˆ‡ resource API æ€§è³ªä¸åŒï¼Œå®ƒçš„ endpoint è¨­è¨ˆåªè¦åˆç†å³å¯ï¼Œä¾‹å¦‚<code>/search?q={keywords}</code>ã€‚</li><li>å»ºè­° URI components éƒ½ç”¨<strong>å°å¯«</strong>ï¼Œå…©å€‹å­—ä¹‹é–“ç”¨æ¸›è™Ÿ<code>-</code>æˆ–åº•ç·š<code>_</code>éš”é–‹çš†å¯ï¼Œä½†æ‡‰ä¿æŒä¸€è‡´ã€‚ï¼ˆæˆ‘å€‹äººåå¥½ç”¨<code>-</code>ï¼‰</li></ul><br><h3 id="HTTP-å›å‚³ç‹€æ…‹ç¢¼"><a href="#HTTP-å›å‚³ç‹€æ…‹ç¢¼" class="headerlink" title="HTTP å›å‚³ç‹€æ…‹ç¢¼"></a>HTTP å›å‚³ç‹€æ…‹ç¢¼</h3><p>API å›å‚³çš„çµæœï¼Œæ‡‰ä½¿ç”¨é©ç•¶çš„ HTTP ç‹€æ…‹ç¢¼ï¼Œæ‰€ä»¥ API è¨­è¨ˆè€…å¿…é ˆäº†è§£å®ƒå€‘ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„ç‹€æ…‹ç¢¼ï¼Œå®Œæ•´åˆ—è¡¨è«‹åƒè€ƒ<a href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes" target="_blank" rel="noopener">Wikipedia</a>ã€‚</p><ul><li><p>2xx: æˆåŠŸ</p><ul><li>200 OK: é€šç”¨ç‹€æ…‹ç¢¼</li><li>201 Created: è³‡æºæ–°å¢æˆåŠŸ</li><li>202 Accepted: è«‹æ±‚å·²æ¥å—ï¼Œä½†å°šåœ¨è™•ç†ä¸­</li><li>204 No Content: è«‹æ±‚æˆåŠŸï¼Œä½†æœªå›å‚³ä»»ä½•å…§å®¹</li></ul></li><li><p>3xx: é‡æ–°å°å‘</p><ul><li>301 Moved Permanently: è³‡æºå·²ç§»è‡³å®ƒè™•</li><li>303 See Other: å›å‚³çš„å…§å®¹å¯åœ¨å®ƒè™•å–å¾—ï¼ˆä¾‹å¦‚åœ¨ç”¨æˆ¶ç«¯ç™¼é€äº†ä¸€å€‹ POST è«‹æ±‚ä¹‹å¾Œï¼‰</li><li>304 Not Modified: è«‹æ±‚çš„è³‡æºä¸¦æœªä¿®æ”¹ï¼ˆé€šå¸¸æ˜¯ç”¨æˆ¶ç«¯ç™¼é€äº†å¸¶æœ‰ If-Modified-Since æˆ– If-None-Match è¡¨é ­çš„è«‹æ±‚ï¼‰</li></ul></li><li><p>4xx: ç”¨æˆ¶ç«¯éŒ¯èª¤</p><p>ï¼ˆç”¨æˆ¶ç«¯ä¸æ‡‰ retry åŸå§‹è«‹æ±‚ï¼‰</p><ul><li>400 Bad Request: é€šç”¨ç‹€æ…‹ç¢¼</li><li>401 Unauthorized: ç”¨æˆ¶ç«¯å°šæœªé©—è­‰*</li><li>403 Forbidden: ç”¨æˆ¶ç«¯è¢«ç¦æ­¢æ­¤è«‹æ±‚*</li><li>404 Not Found: è«‹æ±‚çš„è³‡æºä¸å­˜åœ¨</li><li>405 Method Not Allowed: ä¸æ”¯æ´è«‹æ±‚çš„ HTTP æ–¹æ³•</li><li>406 Not Acceptable: ä¸æ”¯æ´è«‹æ±‚æ‰€<strong>è¦æ±‚</strong>çš„å…§å®¹é¡å‹*ï¼ˆAccept è¡¨é ­ï¼‰</li><li>415 Unsupported Media Type: ä¸æ”¯æ´è«‹æ±‚æ‰€<strong>ç”¨</strong>çš„å…§å®¹é¡å‹*ï¼ˆContent-Type è¡¨é ­ï¼‰</li></ul></li><li><p>5xx: ä¼ºæœå™¨éŒ¯èª¤</p><p>ï¼ˆç”¨æˆ¶ç«¯å¯åˆç† retryï¼‰</p><ul><li>500 Internal Server Error: å·¥ç¨‹å¸«è¦æ‰¾ bug äº†</li><li>501 Not Implemented: ç”¨æˆ¶ç«¯çš„è«‹æ±‚ç›®å‰æœªæ”¯æ´ï¼ˆä¹Ÿå°±æ˜¯å°‡ä¾†æœ‰å¯èƒ½æ”¯æ´ï¼‰</li><li>502 Bad Gateway: ä¸Šæ¸¸çš„ä¼ºæœå™¨æœªå›å‚³æ­£ç¢ºçµæœï¼Œä¸€èˆ¬æ˜¯ gateway æˆ– proxy server æ‰æœƒå›å‚³æ­¤ç‹€æ…‹ç¢¼</li><li>503 Service Unavailable: æš«åœæœå‹™ï¼ˆä¹Ÿå°±æ˜¯éä¸ä¹…å°±æœƒæ¢å¾©æœå‹™ â”€â”€ å¦‚æœä¸€åˆ‡é †åˆ©çš„è©±ï¼‰</li><li>504 Gateway Timeout: ä¸Šæ¸¸çš„ä¼ºæœå™¨é€¾æ™‚ï¼Œä¸€èˆ¬æ˜¯ gateway æˆ– proxy server æ‰æœƒå›å‚³æ­¤ç‹€æ…‹ç¢¼</li></ul></li></ul><p>* é—œæ–¼å¹¾å€‹å®¹æ˜“æ··æ·†çš„ç‹€æ…‹ç¢¼ï¼Œè£œå……èªªæ˜å¦‚ä¸‹ï¼š</p><ol><li>401ã€403: 401 æ˜¯æŒ‡ç”¨æˆ¶ç«¯å°šæœªé©—è­‰ï¼Œä¹Ÿå°±æ˜¯ unauthenticatedï¼ˆHTTP spec è£¡ç”¨ unauthorized æœ‰äº›èª¤å°ï¼‰ï¼›403 æ˜¯æŒ‡ç”¨æˆ¶ç«¯ç›®å‰çš„èº«ä»½ä¸è¢«å…è¨±æ­¤é …è«‹æ±‚ï¼ˆé€šå¸¸æ˜¯ç”¨æˆ¶ç«¯å·²é©—è­‰éäº†ï¼‰ï¼Œæˆ–æ˜¯æ‰€æœ‰ä½¿ç”¨è€…éƒ½ä¸è¢«å…è¨±æ­¤é …è«‹æ±‚ã€‚</li><li>406ã€415: 406 æ˜¯æŒ‡ç”¨æˆ¶ç«¯è¦æ±‚ã€Œå›å‚³ã€çš„ Content-Typeï¼ˆä¹Ÿå°±æ˜¯ç”¨æˆ¶ç«¯åœ¨ Accept è¡¨é ­è£¡æ‰€è¦æ±‚çš„ï¼‰ï¼Œä¼ºæœå™¨ä¸æ”¯æ´ï¼›415 æ˜¯æŒ‡ç”¨æˆ¶ç«¯é€å‡ºçš„ã€Œè«‹æ±‚ã€ï¼Œå…¶ Content-Typeï¼ˆä¹Ÿå°±æ˜¯ç”¨æˆ¶ç«¯ HTTP request body çš„å…§å®¹é¡å‹ï¼‰ï¼Œä¼ºæœå™¨ä¸æ”¯æ´ã€‚</li></ol><p>å¦å¤–è¦æ³¨æ„ï¼Œé€™äº›å›å‚³çš„ç‹€æ…‹ç¢¼ï¼Œæ˜¯ä»£è¡¨ API é€™ä¸€å±¤çš„åŸ·è¡Œç‹€æ…‹ï¼Œè€Œ<strong>ä¸æ˜¯å•†æ¥­é‚è¼¯</strong>é€™ä¸€å±¤çš„ç‹€æ…‹ã€‚ä¾‹å¦‚ç•¶<code>/search?q=xyz</code>æœå°‹çµæœæ˜¯ç©ºçš„ï¼ŒAPI çµæœä»æ‡‰å›å‚³ 200ï¼Œè€Œé 404ï¼›å› ç‚ºå¾ API è§’åº¦ä¾†çœ‹ï¼Œ<code>/search</code>é€™å€‹ã€Œè³‡æºã€å­˜åœ¨ï¼Œè€Œä¸” API åŸ·è¡ŒæˆåŠŸã€‚</p><br><h3 id="HTTP-Header"><a href="#HTTP-Header" class="headerlink" title="HTTP Header"></a>HTTP Header</h3><p>ç”¨æˆ¶ç«¯é€å‡º API è«‹æ±‚æ™‚ï¼Œå¯èƒ½æœƒå¸¶ä¸€äº› HTTP headerï¼Œä¾‹å¦‚ï¼š</p><ul><li>Accept: èƒ½å¤ æ¥å—çš„å›æ‡‰å…§å®¹é¡å‹ (Content-Type)ï¼Œå±¬æ–¼å…§å®¹å”å•†çš„ä¸€ç’°</li><li>Authorization: èªè­‰è³‡è¨Š</li></ul><p>è‡³æ–¼ API å›å‚³çµæœçš„ HTTP headerï¼Œæ²’ç”šéº¼ç‰¹åˆ¥ä¹‹è™•ï¼ŒæŒ‰ç…§ä¸€èˆ¬åŸå‰‡è™•ç†å³å¯ï¼ˆä¾‹å¦‚ Content-Typeã€Content-Lengthã€ETagã€Cache-Controlâ€¦ï¼‰ã€‚</p><br><h3 id="HTTP-Body-JSON-æˆ–-XML-æ ¼å¼"><a href="#HTTP-Body-JSON-æˆ–-XML-æ ¼å¼" class="headerlink" title="HTTP Body: JSON æˆ– XML æ ¼å¼"></a>HTTP Body: JSON æˆ– XML æ ¼å¼</h3><p>ç¾åœ¨ JSON å·²è¢«æ™®éæ”¯æ´ï¼ŒåŠ ä¸Š JSON è™•ç†ä¸Šè¼ƒç°¡æ½”ï¼Œæ‰€ä»¥è¶Šä¾†è¶Šå¤šäººæ¡ç”¨ JSON ä½œç‚º API çš„ HTTP body æ ¼å¼ã€‚ä½†è¦æ¡ç”¨ JSON æˆ– XMLï¼ˆæˆ–åŒæ™‚æ”¯æ´å…©ç¨®æ ¼å¼ï¼‰ï¼Œä»æ‡‰è¦–å°ˆæ¡ˆçš„å¯¦éš›éœ€æ±‚è€Œå®šã€‚</p><br><h3 id="å…¶å®ƒåŸå‰‡"><a href="#å…¶å®ƒåŸå‰‡" class="headerlink" title="å…¶å®ƒåŸå‰‡"></a>å…¶å®ƒåŸå‰‡</h3><ol><li>èˆ‡ HTTP ä¸€æ¨£ï¼ŒAPI æ‡‰è©²æ˜¯ statelessï¼Œä¹Ÿå°±æ˜¯ä¸€é …å·¥ä½œå–®å…ƒä¸æ‡‰ç”±äºŒå€‹æˆ–äºŒå€‹ä»¥ä¸Š API çµ„æˆã€‚ï¼ˆé€™ä¹Ÿå¼•ç”³å‡ºä¸€å€‹æœ‰è¶£çš„å•é¡Œï¼šREST API å¦‚ä½•æ”¯æ´ transactionï¼Ÿé€™å€‹å•é¡Œè¶…å‡ºæœ¬ç¯‡æ–‡ç« çš„ç¯„åœï¼Œä»¥å¾Œæœ‰æ©Ÿæœƒå†è«‡ã€‚ï¼‰</li><li>REST API æ‰€å‘ˆç¾çš„è³‡æºï¼Œæ˜¯å¾æ‡‰ç”¨é¢åŠ client è§’åº¦ä¾†æ€è€ƒï¼Œä¸¦ä¸éœ€è¦å’Œå¾Œç«¯çš„è³‡æºå„²å­˜å½¢å¼ï¼ˆä¾‹å¦‚è³‡æ–™åº« schemaï¼‰ç¶­æŒä¸€å°ä¸€çš„é—œä¿‚ã€‚</li><li><a href="https://en.wikipedia.org/wiki/Representational_state_transfer#Uniform_interface" target="_blank" rel="noopener">HATEOAS</a> (Hypermedia as the engine of application state) é›–ç„¶æ˜¯ REST åŸå§‹å®šç¾©è£¡çš„ä¸€ç’°ï¼Œä½†æˆ‘èªç‚ºä¸ä¸€å®šéœ€è¦ã€‚</li><li>Query parameter çš„éƒ¨ä»½ï¼Œåªè¦é¢¨æ ¼ä¿æŒä¸€è‡´å³å¯ï¼ŒREST å°æ­¤ä¸¦ç„¡ç‰¹æ®Šè¦ç¯„ã€‚</li></ol><br><hr><br><h2 id="RESTful-æ¶æ§‹çš„å¯¦è¸"><a href="#RESTful-æ¶æ§‹çš„å¯¦è¸" class="headerlink" title="RESTful æ¶æ§‹çš„å¯¦è¸"></a>RESTful æ¶æ§‹çš„å¯¦è¸</h2><br><h3 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h3><p>HTTP 1.1 æœ¬èº«å°±æ˜¯ REST æ¶æ§‹çš„å¯¦è¸ï¼Œæˆ‘å€‘å¯ä»¥éµå¾ªå®ƒå®šç¾©å¥½çš„è¦æ ¼ï¼Œä¾‹å¦‚ï¼š</p><ul><li>é€é HTTP Status Code å›å‚³ API åŸ·è¡Œçµæœ</li><li>åˆ©ç”¨ HTTP Accept Header å‘ŠçŸ¥ Server æŒ‡å®šå›å‚³çš„è³‡æ–™æ ¼å¼ Content-typeï¼ŒJSON å¯ä»¥é€å‡º application/jsonã€XML å¯ä»¥é€å‡º application/xml ç­‰ç­‰</li><li>é€é POST æ–°å¢è³‡æ–™åˆ° Serverï¼ŒåŸ·è¡ŒæˆåŠŸå¾Œå›å‚³ 201 Status Code ä¸¦ä¸”é€é Location Header å‘ŠçŸ¥æ–°è³‡æºçš„ URL</li></ul><br><h3 id="å„ªç¼ºé»"><a href="#å„ªç¼ºé»" class="headerlink" title="å„ªç¼ºé»"></a>å„ªç¼ºé»</h3><ul><li>å„ªé»ï¼š<ul><li>ç¶²å€æ›´ç›´è§€ï¼Œä¸åŒé–‹ç™¼äººå“¡éƒ½éµç…§æ…£ä¾‹è¨­è¨ˆç¶²å€ï¼Œæ˜“æ–¼ç¶­è­·ã€æ“´å±•ã€‚</li><li>REST è¨­è¨ˆå°‡æ¯ä¸€å€‹å¯¦é«”å®šç¾©ç¨ç«‹å”¯ä¸€çš„ URL ä½ç½®ï¼Œç‰©ä»¶è³‡æºç›¸äº’çš„ä¾è³´æ€§é™ä½ï¼ŒAPI è§£è€¦ç‰¹æ€§æ›´å¥½ï¼Œå®¹æ˜“å½ˆæ€§çµ„åˆæ‡‰ä»˜å¤šæ•¸æ¥­å‹™é‚è¼¯ã€‚</li></ul></li><li>ç¼ºé»<ul><li>å®‰å…¨æ€§å•é¡Œï¼Œå‡è¨­ä½¿ç”¨è€…çŸ¥é“ <code>/member/1</code> æ˜¯è‡ªå·±çš„æœƒå“¡è³‡æ–™ï¼Œä»–å°±å¯ä»¥å˜—è©¦å¾ <code>/member/100</code> å¾—åˆ°å…¶ä»–ç”¨æˆ¶çš„è³‡æ–™ï¼Œé ˆå°ä½¿ç”¨è€…åšèº«ä»½é©—è­‰ã€‚</li><li>è³‡æºç›¸ä¾çµæ§‹é¬†æ•£å•é¡Œï¼Œå‡è¨­æƒ³è¦å–å¾—æ–‡ç« èˆ‡ä½œè€…è³‡è¨Šï¼Œå°±å¿…é ˆå…ˆ <code>GET /æ–‡ç« /{ID}</code> ï¼Œç„¶å¾Œå†é€éå–å›çš„æ–‡ç« ç‰©ä»¶ä¸­çš„ Author æ¬„ä½å†ä¸€æ¬¡å‘¼å« <code>GET /ä½¿ç”¨è€…/{NAME}</code> å–å¾—ä½œè€…è³‡è¨Šï¼Œè¼ƒç‚ºéº»ç…©ã€‚</li></ul></li></ul><br><hr><p>åƒè€ƒè³‡æ–™ï¼š</p><p><a href="https://railsbook.tw/chapters/11-routes.html#restful-routes" target="_blank" rel="noopener">https://railsbook.tw/chapters/11-routes.html#restful-routes</a></p><p><a href="https://ihower.tw/rails/restful.html" target="_blank" rel="noopener">https://ihower.tw/rails/restful.html</a></p><p><a href="https://tw.twincl.com/programming/*641y" target="_blank" rel="noopener">https://tw.twincl.com/programming/*641y</a></p><p><a href="https://github.com/twtrubiks/django-rest-framework-tutorial/tree/master/RESTful-API-Tutorial" target="_blank" rel="noopener">https://github.com/twtrubiks/django-rest-framework-tutorial/tree/master/RESTful-API-Tutorial</a></p><p><a href="https://www.webguide.nat.gov.tw/News_Content.aspx?n=531&amp;s=2918" target="_blank" rel="noopener">https://www.webguide.nat.gov.tw/News_Content.aspx?n=531&amp;s=2918</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç‚ºäº†ç†è§£ç›®å‰ API è¨­è¨ˆçš„ä¸»æµï¼Œè©¦è‘—æ•´ç†äº†ç¶²è·¯ä¸Šçš„è§£èªªæ–‡ç« ï¼Œä½œç‚ºå­¸ç¿’ç­†è¨˜ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="å­¸ç¿’æ—¥èªŒ" scheme="https://chaichai.site/categories/%E5%AD%B8%E7%BF%92%E6%97%A5%E8%AA%8C/"/>
    
    
      <category term="å­¸ç¿’æ—¥èªŒ" scheme="https://chaichai.site/tags/%E5%AD%B8%E7%BF%92%E6%97%A5%E8%AA%8C/"/>
    
      <category term="Rails" scheme="https://chaichai.site/tags/Rails/"/>
    
      <category term="Web" scheme="https://chaichai.site/tags/Web/"/>
    
  </entry>
  
  <entry>
    <title>Ruby Self</title>
    <link href="https://chaichai.site/2019/10/25/ruby_self/"/>
    <id>https://chaichai.site/2019/10/25/ruby_self/</id>
    <published>2019-10-24T16:00:00.000Z</published>
    <updated>2019-10-31T13:21:32.889Z</updated>
    
    <content type="html"><![CDATA[<p>å­¸ Ruby æ™‚ï¼Œæ™‚å¸¸åœ¨ä¸åŒçš„æ–¹æ³•ä¸­çœ‹åˆ°æŸå€‹ç¥ç§˜è®Šæ•¸ self ï¼Œself åˆ°åº•æ˜¯èª°å‘¢ï¼Ÿ</p><a id="more"></a><hr><h1 id="ä½•è¬‚-Self"><a href="#ä½•è¬‚-Self" class="headerlink" title="ä½•è¬‚ Self ?"></a>ä½•è¬‚ Self ?</h1><p>Ruby çš„å®˜æ–¹ API ä¸­é€™éº¼å¯«é“ï¼š</p><blockquote><p>self æ˜¯ã€Œç•¶å‰çš„ç‰©ä»¶ã€ï¼Œä»¥åŠç•¶æ²’æœ‰æ˜ç¢ºæŒ‡å®šæ¥æ”¶è€…æ™‚ï¼Œè¨Šæ¯ï¼ˆæ–¹æ³•å‘¼å«ï¼‰çš„é è¨­æ¥æ”¶è€…ã€‚ self æ‰€åœ¨çš„ä¸Šä¸‹æ–‡æ±ºå®š self æ‰€ä»£è¡¨çš„ç‰©ä»¶ã€‚</p></blockquote><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">String</span></span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">upcase_and_reverse</span></span></span><br><span class="line">    upcase.reverse</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>åœ¨é€™å€‹æ–¹æ³•ä¸­ï¼Œupcase é€™å€‹è¨Šæ¯æœƒè¢«å‚³åˆ° selfï¼Œè€Œ self å°±æ˜¯ä»»ä½•å‘¼å«è©²æ–¹æ³•çš„å­—ä¸²ã€‚</p><br><hr><br><h2 id="ä»€éº¼æ˜¯ã€Œç›®å‰çš„ç‰©ä»¶ã€ï¼Ÿ"><a href="#ä»€éº¼æ˜¯ã€Œç›®å‰çš„ç‰©ä»¶ã€ï¼Ÿ" class="headerlink" title="ä»€éº¼æ˜¯ã€Œç›®å‰çš„ç‰©ä»¶ã€ï¼Ÿ"></a>ä»€éº¼æ˜¯ã€Œç›®å‰çš„ç‰©ä»¶ã€ï¼Ÿ</h2><ul><li>å–®ç´”åœ°å°å‡º self<br>self æŒ‡çš„æ˜¯ main ï¼Œå³æ˜¯ object çš„å¯¦é«”</li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">p <span class="keyword">self</span></span><br><span class="line"><span class="comment"># main</span></span><br><span class="line">p <span class="keyword">self</span>.<span class="keyword">class</span></span><br><span class="line"><span class="comment"># Object</span></span><br></pre></td></tr></table></figure><br><ul><li>åœ¨ä¸€å€‹ class / module ä¸­<br>self æŒ‡çš„æ˜¯è©² class / module</li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span></span></span><br><span class="line">  p <span class="keyword">self</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment"># Dog</span></span><br><span class="line"><span class="class"><span class="keyword">module</span> <span class="title">Bird</span></span></span><br><span class="line">  p <span class="keyword">self</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment"># Bird</span></span><br></pre></td></tr></table></figure><br><ul><li>åœ¨å¯¦é«”æ–¹æ³•ä¸­<br>self æŒ‡çš„æ˜¯ç•¶å‰ class çš„å¯¦é«”</li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span></span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">instance_method</span></span></span><br><span class="line">    <span class="keyword">self</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">black = Dog.new</span><br><span class="line">black.instance_method</span><br><span class="line"><span class="comment"># &lt;Dog:0x00007f85540ede78&gt;</span></span><br><span class="line">black.instance_method == black</span><br><span class="line"><span class="comment"># true</span></span><br></pre></td></tr></table></figure><br><ul><li>åœ¨é¡åˆ¥æ–¹æ³•ä¸­<br>self æŒ‡çš„æ˜¯ç•¶å‰çš„ class</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">class Dog</span><br><span class="line">  def self.class_method</span><br><span class="line">    self</span><br><span class="line">  end</span><br><span class="line">end</span><br><span class="line">Dog.class_method</span><br><span class="line"># Dog</span><br><span class="line">Dog.class_method == Dog</span><br><span class="line"># true</span><br></pre></td></tr></table></figure><br><ul><li>æ··åˆé¡å‹çš„å¯¦é«”æ–¹æ³•<br>å³ä½¿æ˜¯åœ¨ module ä¸­å®šç¾©äº† hello æ–¹æ³•ï¼Œself ä»æ˜¯å®ƒæ‰€æ··åˆçš„ class çš„å¯¦é«”</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">module Greeting</span><br><span class="line">  def hello</span><br><span class="line">    self</span><br><span class="line">  end</span><br><span class="line">end</span><br><span class="line">class Dog</span><br><span class="line">  include Greeting</span><br><span class="line">end</span><br><span class="line">black = Dog.new</span><br><span class="line">black.hello</span><br><span class="line"># &lt;Dog:0x00007fdccc93b3d0&gt;</span><br><span class="line">black.hello == black</span><br><span class="line"># true</span><br></pre></td></tr></table></figure><br><ul><li>æ··åˆé¡å‹çš„é¡åˆ¥æ–¹æ³•<br>ç•¶ extend class çš„æ–¹æ³•æ™‚ï¼Œself çš„è¡Œç‚ºèˆ‡æ™®é€šçš„é¡åˆ¥æ–¹æ³•å®Œå…¨ä¸€æ¨£</li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">module</span> <span class="title">Greeting</span></span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">hello</span></span></span><br><span class="line">    <span class="keyword">self</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span></span></span><br><span class="line">  extend Greeting</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">Dog.hello</span><br><span class="line"><span class="comment"># Dog</span></span><br><span class="line">Dog.hello == Dog</span><br><span class="line"><span class="comment"># true</span></span><br></pre></td></tr></table></figure><blockquote><p>åœ¨ Ruby ä¸­ï¼Œ module è·Ÿ class éƒ½æ˜¯ç‰©ä»¶ï¼Œä¸è«–åœ¨ class æˆ– moduleï¼Œself éƒ½æ˜¯å¼•ç”¨å®ƒæ‰€åœ¨çš„ä¸Šä¸‹æ–‡çš„å¯¦é«”ã€‚</p></blockquote><br><hr><br><h2 id="ä»€éº¼æ˜¯ã€Œè¨Šæ¯çš„é è¨­æ¥æ”¶è€…ã€ï¼Ÿ"><a href="#ä»€éº¼æ˜¯ã€Œè¨Šæ¯çš„é è¨­æ¥æ”¶è€…ã€ï¼Ÿ" class="headerlink" title="ä»€éº¼æ˜¯ã€Œè¨Šæ¯çš„é è¨­æ¥æ”¶è€…ã€ï¼Ÿ"></a>ä»€éº¼æ˜¯ã€Œè¨Šæ¯çš„é è¨­æ¥æ”¶è€…ã€ï¼Ÿ</h2><ul><li>åœ¨ä¸€å€‹é¡åˆ¥æ–¹æ³•ä¸­<br>self æŒ‡çš„æ˜¯ Dog ï¼Œå› æ­¤ self.sleep ç­‰æ–¼ Dog.sleep</li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span></span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">self</span>.<span class="title">sleep</span></span></span><br><span class="line">    puts <span class="string">'zzz'</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span></span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">Dog</span>.<span class="title">sleep</span></span></span><br><span class="line">    puts <span class="string">'zzz'</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><br><ul><li>å‘¼å«é¡åˆ¥æ–¹æ³•ï¼Œç•¶æœ‰æ˜ç¢ºçš„æ¥æ”¶è€…æ™‚<br>å¯ä»¥ç”¨ self å»å‘¼å« sleep() é€™å€‹é¡åˆ¥æ–¹æ³•</li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span></span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">self</span>.<span class="title">sleep</span></span></span><br><span class="line">    puts <span class="string">'zzz'</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  Dog.sleep</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment"># zzz</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span></span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">self</span>.<span class="title">sleep</span></span></span><br><span class="line">    puts <span class="string">'zzz'</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">self</span>.sleep</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment"># zzz</span></span><br></pre></td></tr></table></figure><br><ul><li>å‘¼å«é¡åˆ¥æ–¹æ³•ï¼Œç•¶æ²’æœ‰æ˜ç¢ºçš„æ¥æ”¶è€…æ™‚<br>åœ¨ class Dog ä¸­ï¼Œ self æŒ‡çš„æ˜¯ Dogï¼Œæ‰€ä»¥å¯ä»¥çœç•¥ selfã€‚<br>å› ç‚ºæ²’æœ‰å‚³è¨Šæ¯æˆ–æ¥æ”¶è€…ç‰©ä»¶çš„å°æ•¸é»ç¬¦è™Ÿï¼Œç•¶å‘¼å«æ²’æœ‰æ¥æ”¶è€…çš„æ–¹æ³•æ™‚ï¼Œè¨Šæ¯æœƒå‚³çµ¦ç•¶å‰çš„å€¼ã€‚ç”±æ–¼ç•¶å‰çš„å€¼æ˜¯ Dogï¼ˆé è¨­æ¥æ”¶è€…ï¼‰ï¼Œå¯ä»¥ç›´æ¥å‘¼å«é¡åˆ¥æ–¹æ³• sleepã€‚</li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span></span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">self</span>.<span class="title">sleep</span></span></span><br><span class="line">    puts <span class="string">'zzz'</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  sleep</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment"># zzz</span></span><br></pre></td></tr></table></figure><br><blockquote><p>åœ¨ Ruby ä¸­ï¼Œå‘¼å«æ–¹æ³•æ˜¯ä»¥ obj.method çš„æ–¹å¼ï¼Œç”¨ä¸€å€‹å°æ•¸é»æ¨™è¨˜ï¼Œå·¦é‚Šæ˜¯æ¥æ”¶è€…ï¼Œå³é‚Šæ˜¯æ–¹æ³•ã€‚<br>ä½†æ˜¯ï¼Œç•¶æ¥æ”¶è€…æ˜¯ self çš„æ™‚å€™ï¼Œå¯ä»¥çœç•¥æ¥æ”¶è€…å’Œå°æ•¸é»ã€‚Ruby å°‡ self ç•¶åšé è¨­çš„æ¥æ”¶è€…ï¼Œä»£è¡¨è¨Šæ¯æœƒå‚³çµ¦ selfã€‚method == self.methodã€‚<br>å¿…é ˆæ³¨æ„çš„æ˜¯ï¼Œåœ¨å‘¼å«å¯«å…¥æ–¹æ³•æ™‚ï¼ˆä»¥ç­‰è™ŸçµæŸçš„æ–¹æ³•ï¼‰ï¼Œå³ä½¿æ˜¯å‚³è¨Šæ¯çµ¦ç•¶å‰çš„ self ï¼Œä¹Ÿä¸èƒ½çœç•¥ã€‚<br>ä¾‹å¦‚ï¼šå‘¼å«æ–¹æ³• abc =ï¼Œè¦å¯«æˆ self.abc = â€œhelloâ€ã€‚å¦‚æœå¯«æˆ abc = â€œhelloâ€ ï¼ŒRuby æœƒè§£è®€çˆ²å°å±€éƒ¨è®Šæ•¸çš„è³¦å€¼ã€‚</p></blockquote><br><hr><p>åƒè€ƒè³‡æ–™ï¼š<br><a href="https://ruby-doc.org/docs/keywords/1.9/Object.html#method-i-self" target="_blank" rel="noopener">https://ruby-doc.org/docs/keywords/1.9/Object.html#method-i-self</a><br><a href="https://rubyplus.com/articles/4861-Ruby-Basics-The-Default-Receiver" target="_blank" rel="noopener">https://rubyplus.com/articles/4861-Ruby-Basics-The-Default-Receiver</a><br><a href="https://www.honeybadger.io/blog/ruby-self-cheat-sheet/" target="_blank" rel="noopener">https://www.honeybadger.io/blog/ruby-self-cheat-sheet/</a><br><a href="https://www.iteye.com/blog/fantaxy025025-1108639" target="_blank" rel="noopener">https://www.iteye.com/blog/fantaxy025025-1108639</a><br><a href="http://www.52help.net/tw/ruby/63.mhtml" target="_blank" rel="noopener">http://www.52help.net/tw/ruby/63.mhtml</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å­¸ Ruby æ™‚ï¼Œæ™‚å¸¸åœ¨ä¸åŒçš„æ–¹æ³•ä¸­çœ‹åˆ°æŸå€‹ç¥ç§˜è®Šæ•¸ self ï¼Œself åˆ°åº•æ˜¯èª°å‘¢ï¼Ÿ&lt;/p&gt;
    
    </summary>
    
    
      <category term="å­¸ç¿’æ—¥èªŒ" scheme="https://chaichai.site/categories/%E5%AD%B8%E7%BF%92%E6%97%A5%E8%AA%8C/"/>
    
    
      <category term="å­¸ç¿’æ—¥èªŒ" scheme="https://chaichai.site/tags/%E5%AD%B8%E7%BF%92%E6%97%A5%E8%AA%8C/"/>
    
      <category term="Ruby" scheme="https://chaichai.site/tags/Ruby/"/>
    
      <category term="Rails" scheme="https://chaichai.site/tags/Rails/"/>
    
  </entry>
  
  <entry>
    <title>Duck Typing</title>
    <link href="https://chaichai.site/2019/10/24/ducktyping/"/>
    <id>https://chaichai.site/2019/10/24/ducktyping/</id>
    <published>2019-10-23T16:00:00.000Z</published>
    <updated>2019-10-31T13:21:09.560Z</updated>
    
    <content type="html"><![CDATA[<p>ã€Œç•¶çœ‹åˆ°ä¸€éš»é³¥èµ°èµ·ä¾†åƒé´¨å­ã€æ¸¸æ³³èµ·ä¾†åƒé´¨å­ã€å«èµ·ä¾†ä¹Ÿåƒé´¨å­ï¼Œé‚£éº¼é€™éš»é³¥å°±å¯ä»¥è¢«ç¨±ç‚ºé´¨å­ã€‚ã€</p><a id="more"></a><hr><p>ç°¡å–®ä¾†èªªï¼Œå‡è¨­æœ‰ä¸€éš»é³¥ï¼Œä»–æœƒæ¸¸æ³³ã€æœƒå«ï¼Œè€Œæˆ‘å€‘å®šç¾©çš„é´¨å­éœ€è¦æœƒæ¸¸æ³³ã€æœƒå«ï¼Œå°±å¯ä»¥èªªé‚£éš»é³¥æ˜¯é´¨å­ï¼Œå³ä½¿å®ƒå¯èƒ½æ˜¯ä¸€éš»ä¼éµã€‚</p><p>æˆ‘å€‘ä¸¦ä¸åœ¨ä¹ä»–æ˜¯å¦ç¹¼æ‰¿è‡ªé´¨å­çš„è¡€ç·£ï¼Œåˆ°åº•æ˜¯ä¸æ˜¯é´¨å­ï¼Œåªåœ¨ä¹ä»–çš„ã€Œè¡Œç‚ºã€ã€‚</p><p>æ¯”å¦‚åœ¨ Ruby ç­‰ç¨‹å¼èªè¨€ä¸­ï¼Œæœ‰ä¸­æ‹¬è™Ÿ [ ] å–å€¼çš„æ–¹æ³•ï¼Œé™¤äº†é™£åˆ—ä»¥å¤–ï¼Œå­—ä¸²ã€Hash ç­‰ç‰©ä»¶éƒ½å¯ä»¥ä½¿ç”¨ï¼Œç”šè‡³æ˜¯åœ¨è‡ªè¨‚çš„ class ä¸­å¯«å…¥ä¸­æ‹¬è™Ÿçš„æ–¹æ³•ï¼Œä¸ç®¡å®ƒçš„å‹åˆ¥æ˜¯ä»€éº¼ï¼Œåªè¦å…·å‚™ä¸­æ‹¬è™Ÿçš„æ–¹æ³•ï¼Œå°±å¯ä»¥ä½¿ç”¨ã€‚</p><br><p>ä»¥ä¸‹çš„ç¯„ä¾‹é«”ç¾äº†é´¨å­æ¸¬è©¦ï¼Œåªè¦æœ‰ quack, feathers æ–¹æ³•ï¼Œå° <code>in_the_forest</code> å‡½å¼è€Œè¨€ï¼Œè©²ç‰©ä»¶å°±æ˜¯ä¸€å€‹é´¨å­ã€‚</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Duck</span></span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">quack</span></span></span><br><span class="line">        puts <span class="string">"é€™é´¨å­æ­£åœ¨å˜å˜å«"</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">feathers</span></span></span><br><span class="line">        puts <span class="string">"é€™é´¨å­æ“æœ‰ç™½è‰²å’Œç°è‰²çš„ç¾½æ¯›"</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">quack</span></span></span><br><span class="line">        puts <span class="string">"é€™äººæ­£åœ¨æ¨¡ä»¿é´¨å­"</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">feathers</span></span></span><br><span class="line">        puts <span class="string">"é€™äººåœ¨åœ°ä¸Šæ‹¿èµ·1æ ¹ç¾½æ¯›ç„¶å¾Œç»™å…¶ä»–äººçœ‹"</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">in_the_forest</span><span class="params">(duck)</span></span></span><br><span class="line">    duck.quack</span><br><span class="line">    duck.feathers</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">game</span></span></span><br><span class="line">    duck = Duck.new</span><br><span class="line">    person = Person.new</span><br><span class="line">    in_the_forest(duck)</span><br><span class="line">    in_the_forest(person)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">game</span><br><span class="line"></span><br><span class="line"><span class="comment"># é€™é´¨å­æ­£åœ¨å˜å˜å«</span></span><br><span class="line"><span class="comment"># é€™é´¨å­æ“æœ‰ç™½è‰²å’Œç°è‰²çš„ç¾½æ¯›</span></span><br><span class="line"><span class="comment"># é€™äººæ­£åœ¨æ¨¡ä»¿é´¨å­</span></span><br><span class="line"><span class="comment"># é€™äººåœ¨åœ°ä¸Šæ‹¿èµ·1æ ¹ç¾½æ¯›ç„¶å¾Œç»™å…¶ä»–äººçœ‹</span></span><br></pre></td></tr></table></figure><br><p>åªæ˜¯ï¼Œç”±æ–¼é´¨å­å‹åˆ¥æ‰€å¸¶ä¾†çš„æ–¹ä¾¿èˆ‡éˆæ´»åº¦ï¼Œä¹Ÿå¯èƒ½æ—©æˆé›£ä»¥æª¢æ¸¬çš„éŒ¯èª¤ï¼Œé–‹ç™¼è€…éœ€æ³¨æ„ä¸åŒé¡åˆ¥ä¸­ç›¸åŒæ–¹æ³•çš„å¯èƒ½ä½¿ç”¨ã€‚<br><br></p><hr><p>åƒè€ƒè³‡æ–™<br><a href="https://zh.wikipedia.org/wiki/%E9%B8%AD%E5%AD%90%E7%B1%BB%E5%9E%8B" target="_blank" rel="noopener">https://zh.wikipedia.org/wiki/%E9%B8%AD%E5%AD%90%E7%B1%BB%E5%9E%8B</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ã€Œç•¶çœ‹åˆ°ä¸€éš»é³¥èµ°èµ·ä¾†åƒé´¨å­ã€æ¸¸æ³³èµ·ä¾†åƒé´¨å­ã€å«èµ·ä¾†ä¹Ÿåƒé´¨å­ï¼Œé‚£éº¼é€™éš»é³¥å°±å¯ä»¥è¢«ç¨±ç‚ºé´¨å­ã€‚ã€&lt;/p&gt;
    
    </summary>
    
    
      <category term="å­¸ç¿’æ—¥èªŒ" scheme="https://chaichai.site/categories/%E5%AD%B8%E7%BF%92%E6%97%A5%E8%AA%8C/"/>
    
    
      <category term="å­¸ç¿’æ—¥èªŒ" scheme="https://chaichai.site/tags/%E5%AD%B8%E7%BF%92%E6%97%A5%E8%AA%8C/"/>
    
      <category term="Ruby" scheme="https://chaichai.site/tags/Ruby/"/>
    
      <category term="Rails" scheme="https://chaichai.site/tags/Rails/"/>
    
      <category term="OO" scheme="https://chaichai.site/tags/OO/"/>
    
  </entry>
  
  <entry>
    <title>Ruby Symbol</title>
    <link href="https://chaichai.site/2019/10/23/ruby_symbol/"/>
    <id>https://chaichai.site/2019/10/23/ruby_symbol/</id>
    <published>2019-10-22T16:00:00.000Z</published>
    <updated>2019-10-31T13:21:36.397Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨å­¸ Ruby æ™‚ï¼Œå¸¸å¸¸æœƒçœ‹åˆ° :name ç­‰ï¼Œå‰é¢å¸¶æœ‰å†’è™Ÿçš„å­—ï¼Œé‚£åˆ°åº•æ˜¯ä»€éº¼å‘¢ï¼Ÿ</p><a id="more"></a><hr><h2 id="ä½•è¬‚-Symbol"><a href="#ä½•è¬‚-Symbol" class="headerlink" title="ä½•è¬‚ Symbol"></a>ä½•è¬‚ Symbol</h2><p>Ruby çš„å®˜æ–¹ API ä¸­é€™éº¼å¯«é“ï¼š</p><blockquote><p>Symbol ç‰©ä»¶è¡¨ç¤º Ruby ç›´è­¯å™¨ä¸­çš„ã€Œåç¨±ã€åŠæŸäº›ã€Œå­—ä¸²ã€ã€‚<br>Symbol å¯ä»¥ç”¨ï¼šname å’Œï¼šâ€œstringâ€ èªæ³•ä»¥åŠå„ç¨® to_sym æ–¹æ³•ç”Ÿæˆã€‚ç„¡è«–å…§å®¹æˆ–å«ç¾©ç‚ºä½•ï¼Œéƒ½æœƒåœ¨ç¨‹åºåŸ·è¡Œçš„æœŸé–“ç‚ºè©²åç¨±æˆ–å­—ä¸²å‰µå»ºç›¸åŒçš„ Symbol ç‰©ä»¶ã€‚å› æ­¤ï¼Œå‡è¨­ Fred åœ¨ä¸€å€‹ context ä¸­æ˜¯ä¸€å€‹å¸¸æ•¸ï¼Œåœ¨ä¸€å€‹ context ä¸­æ˜¯æ–¹æ³•ï¼Œä¹Ÿæ˜¯å¦ä¸€å€‹ context çš„é¡åˆ¥ï¼Œ Symbolï¼šFred å…¨éƒ½æ˜¯ç›¸åŒçš„ç‰©ä»¶ã€‚</p></blockquote><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">module</span> <span class="title">One</span></span></span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Fred</span></span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  $f1 = <span class="symbol">:Fred</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="class"><span class="keyword">module</span> <span class="title">Two</span></span></span><br><span class="line">  Fred = <span class="number">1</span></span><br><span class="line">  $f2 = <span class="symbol">:Fred</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Fred</span><span class="params">()</span></span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">$f3 = <span class="symbol">:Fred</span></span><br><span class="line">$f1.object_id        <span class="comment"># 2514190</span></span><br><span class="line">$f2.object_id        <span class="comment"># 2514190</span></span><br><span class="line">$f3.object_id        <span class="comment"># 2514190</span></span><br></pre></td></tr></table></figure><ul><li>Symbol å°±æ˜¯ä¸€å€‹ Symbol class çš„å¯¦é«”ã€‚</li><li>Symbol ä¸æ˜¯è®Šæ•¸ï¼Œæ˜¯ã€Œå¸¶æœ‰åå­—çš„ç‰©ä»¶ã€ï¼Œæœ¬è³ªä¸Šå°±æ˜¯ã€Œå€¼ã€ï¼Œä¸éœ€è¦ä¹Ÿä¸èƒ½æŒ‡å‘ä»»ä½•æ±è¥¿ã€‚ï¼ˆè®Šæ•¸å‰‡æ˜¯æŒ‡å‘æŸç‰©ä»¶çš„åå­—ï¼Œç„¡æ³•å–®ç¨å­˜åœ¨ã€‚ï¼‰</li><li>Symbol å³ä½¿è¢«é‡è¤‡ä½¿ç”¨ï¼Œä¹Ÿéƒ½æ˜¯åŒä¸€å€‹ç‰©ä»¶ï¼Œobject_id ä¸æœƒè®Šï¼Œä¸æœƒæ¶ˆè€—å¤šé¤˜çš„è¨˜æ†¶é«”ã€‚</li></ul><br><h3 id="Symbol-çš„å–å¾—æ–¹å¼"><a href="#Symbol-çš„å–å¾—æ–¹å¼" class="headerlink" title="Symbol çš„å–å¾—æ–¹å¼"></a>Symbol çš„å–å¾—æ–¹å¼</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">:symbol</span></span><br><span class="line"><span class="symbol">:<span class="string">'symbol'</span></span></span><br><span class="line">%s!symbol!    <span class="comment"># %è¨˜æ³•</span></span><br><span class="line"><span class="comment"># å¯ä½¿ç”¨ Symbol.all_symbols å–å¾—æ‰€æœ‰å·²ç”Ÿæˆçš„ Symbol åˆ—è¡¨ã€‚</span></span><br></pre></td></tr></table></figure><ul><li>ç•¶å®£å‘Šæ–°çš„è®Šæ•¸ / æ–¹æ³• / é¡åˆ¥æ™‚ï¼ŒRuby æœƒå·å·æ–°å¢æ–°çš„ Symbol</li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">im_chai = <span class="string">"Chai"</span></span><br><span class="line">Symbol.all_symbols.map(&amp;<span class="symbol">:to_s</span>).<span class="keyword">include</span>?(<span class="string">"im_chai"</span>)   <span class="comment"># true</span></span><br></pre></td></tr></table></figure><br><h3 id="Symbol-çš„å‘½åè¦å‰‡"><a href="#Symbol-çš„å‘½åè¦å‰‡" class="headerlink" title="Symbol çš„å‘½åè¦å‰‡"></a>Symbol çš„å‘½åè¦å‰‡</h3><blockquote><p>Symbol çš„è¡¨ç¾æ–¹æ³•ç‚ºã€Œï¼šã€å¾Œè·Ÿä¸€å€‹æ¨™è­˜ç¬¦ï¼Œä¸€å€‹æ–¹æ³•åç¨±ï¼ˆåŒ…æ‹¬å¦‚ã€Œï¼ã€ã€Œï¼Ÿã€ã€Œ=ã€ç­‰ç­‰çš„å¾Œç¶´è©ï¼‰ï¼Œä¸€å€‹è®Šæ•¸åï¼ˆåŒ…æ‹¬å¦‚ã€Œ$ã€çš„å‰ç¶´è©ç­‰ï¼‰ï¼Œè‹±æ–‡æˆ–éè‹±æ–‡çš†å¯ã€‚å”¯ä¸€ä¾‹å¤–çš„æ˜¯ï¼Œ Symbol ä¸æ¥å—ã€Œ\ã€å­—å…ƒã€‚</p></blockquote><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">:LOCK_SH</span></span><br><span class="line"><span class="symbol">:</span>$&lt;</span><br><span class="line"><span class="symbol">:</span>ã“ã‚“ã«ã¡ã¯</span><br><span class="line"><span class="symbol">:</span>â€Good Dayâ€</span><br></pre></td></tr></table></figure><br><hr><br><h2 id="Symbol-èˆ‡-String-çš„æ¯”è¼ƒ"><a href="#Symbol-èˆ‡-String-çš„æ¯”è¼ƒ" class="headerlink" title="Symbol èˆ‡ String çš„æ¯”è¼ƒ"></a>Symbol èˆ‡ String çš„æ¯”è¼ƒ</h2><ul><li>ç›¸åŒ Symbol æŒ‡å‘çš„éƒ½æ˜¯åŒä¸€å€‹è¨˜æ†¶é«”ï¼Œç›¸åŒçš„ String åœ¨æ¯æ¬¡ç”¢ç”Ÿæ™‚ï¼Œéƒ½æ˜¯åœ¨ä¸åŒè¨˜æ†¶é«”ä½ç½®çš„ä¸åŒç‰©ä»¶ã€‚</li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span>.times <span class="keyword">do</span></span><br><span class="line">  puts <span class="string">"hello"</span>.object_id</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 70199659402580</span></span><br><span class="line"><span class="comment"># 70199659366640</span></span><br><span class="line"><span class="comment"># 70199659366560</span></span><br><span class="line"><span class="number">5</span>.times <span class="keyword">do</span></span><br><span class="line">  puts <span class="symbol">:hello</span>.object_id</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment"># 899228</span></span><br><span class="line"><span class="comment"># 899228</span></span><br><span class="line"><span class="comment"># 899228</span></span><br></pre></td></tr></table></figure><br><ul><li>Symbol æ•ˆèƒ½è¼ƒå¥½ / String è¼ƒå·®<blockquote><p>åšæ¯”è¼ƒçš„æ™‚å€™ï¼ŒSymbol æ˜¯æ¯”å° object id æ˜¯å¦ç›¸åŒï¼Œè€Œ String å‰‡æ˜¯ä¸€å€‹å­—æ¯ä¸€å€‹å­—æ¯é€ä¸€æ¯”å°ã€‚æ‰€ä»¥åœ¨æ•ˆèƒ½ä¸Šä¾†èªªï¼ŒString åœ¨åšæ¯”è¼ƒçš„æ™‚é–“è¤‡é›œåº¦æœƒéš¨è‘—å­—æ¯çš„æ•¸é‡è€Œå¢åŠ ï¼Œä½† Symbol çš„æ¯”è¼ƒå› ç‚ºåªæ¯”è¼ƒæ˜¯ä¸æ˜¯åŒä¸€é¡†ç‰©ä»¶ï¼Œæ‰€ä»¥å®ƒçš„è¤‡é›œåº¦æ˜¯å›ºå®šçš„ã€‚</p></blockquote></li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">p <span class="string">"abc"</span> == <span class="string">"abc"</span>           <span class="comment"># true</span></span><br><span class="line">p <span class="string">"abc"</span>.equal?(<span class="string">"abc"</span>)      <span class="comment"># false</span></span><br><span class="line">p <span class="symbol">:abc</span> == <span class="symbol">:abc</span>             <span class="comment"># true</span></span><br><span class="line">p <span class="symbol">:abc</span>.equal?(<span class="symbol">:abc</span>)        <span class="comment"># true</span></span><br></pre></td></tr></table></figure><br><ul><li>Symbol å¯ä½¿ç”¨çš„æ–¹æ³•è¼ƒå°‘ / String è¼ƒå¤šï¼ˆSymbol class çš„æŸäº›æ–¹æ³•èˆ‡ String class çš„æ–¹æ³•å…·æœ‰ç›¸åŒçš„åç¨±å’ŒåŠŸèƒ½ï¼‰</li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">:hello</span>.length                  <span class="comment"># 5</span></span><br><span class="line"><span class="symbol">:hello</span>.upcase                  <span class="comment"># :HELLO</span></span><br><span class="line"><span class="symbol">:hello</span>[<span class="number">0</span>]                      <span class="comment"># "h"</span></span><br><span class="line"><span class="symbol">:<span class="string">"foobar--"</span></span>.capitalize         <span class="comment"># "Foobar--"</span></span><br><span class="line"><span class="symbol">:foo</span>.encoding                  <span class="comment"># #&lt;Encoding:US-ASCII&gt;</span></span><br><span class="line"><span class="symbol">:</span>å“ˆå“ˆ.encoding                  <span class="comment"># #&lt;Encoding:UTF-8&gt;</span></span><br></pre></td></tr></table></figure><br><ul><li>Symbol å…§å®¹ç„¡æ³•æ›´å‹• / String å¯ä»¥</li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">p <span class="symbol">:symbol</span>           <span class="comment"># :symbol</span></span><br><span class="line">p <span class="string">"symbol"</span>          <span class="comment"># "symbol"</span></span><br><span class="line">p <span class="symbol">:symbol</span>[<span class="number">2</span>]        <span class="comment"># m</span></span><br><span class="line">p <span class="string">"symbol"</span>[<span class="number">2</span>]       <span class="comment"># m</span></span><br><span class="line"><span class="symbol">:symbol</span>[<span class="number">2</span>] = <span class="string">"k"</span>    <span class="comment"># error</span></span><br><span class="line"><span class="string">"symbol"</span>[<span class="number">2</span>] = <span class="string">"k"</span></span><br></pre></td></tr></table></figure><br><ul><li>å¦‚æœæŠŠ String çµ¦â€å†°å‡â€(freeze)èµ·ä¾†ï¼Œå®ƒä¾¿ä¸å¯ä¿®æ”¹ï¼Œobject id ä¹Ÿæœƒæ˜¯åŒæ¨£çš„ã€‚</li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span>.times <span class="keyword">do</span></span><br><span class="line">  puts <span class="string">"hello"</span>.freeze.object_id</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment"># =&gt; 70314415546380</span></span><br><span class="line"><span class="comment"># =&gt; 70314415546380</span></span><br><span class="line"><span class="comment"># =&gt; 70314415546380</span></span><br></pre></td></tr></table></figure><br><h3 id="Symbol-èˆ‡-String-çš„è½‰æ›"><a href="#Symbol-èˆ‡-String-çš„è½‰æ›" class="headerlink" title="Symbol èˆ‡ String çš„è½‰æ›"></a>Symbol èˆ‡ String çš„è½‰æ›</h3><ul><li>String è½‰ Symbolï¼š</li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p <span class="string">"foo"</span>.intern                   <span class="comment"># :foo</span></span><br><span class="line">p <span class="string">"foo"</span>.intern.to_s == <span class="string">"foo"</span>     <span class="comment"># true</span></span><br></pre></td></tr></table></figure><ul><li>Symbol è½‰ Stringï¼š</li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p <span class="symbol">:foo</span>.id2name                   <span class="comment"># "foo"</span></span><br><span class="line">p <span class="symbol">:foo</span>.id2name.intern == <span class="symbol">:foo</span>    <span class="comment"># true</span></span><br></pre></td></tr></table></figure><br><hr><br><h2 id="Symbol-çš„ä½¿ç”¨æ™‚æ©Ÿ"><a href="#Symbol-çš„ä½¿ç”¨æ™‚æ©Ÿ" class="headerlink" title="Symbol çš„ä½¿ç”¨æ™‚æ©Ÿ"></a>Symbol çš„ä½¿ç”¨æ™‚æ©Ÿ</h2><blockquote><p>ç”±æ–¼ Symbol ä¸å¯è®Šæ›´(immutable)ï¼Œä»¥åŠæ•ˆèƒ½è¼ƒå¥½ï¼Œç•¶å…§å®¹ä¸æœƒè®Šå‹•ï¼Œåˆä¸éœ€è¦ä½¿ç”¨ String çš„é‚£éº¼å¤šæ–¹æ³•æ™‚ï¼Œå³å¯ä½¿ç”¨ Symbolã€‚</p></blockquote><p>ä¾‹å¦‚ï¼š</p><ul><li>Hash ä¸­çš„ Key</li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">profile = &#123; <span class="symbol">name:</span> <span class="string">"Chai"</span>, <span class="symbol">age:</span> <span class="number">18</span> &#125;   <span class="comment"># &#123;:name=&gt;"Chai", :age=&gt;18&#125;</span></span><br></pre></td></tr></table></figure><br><ul><li>Rails çš„æ–¹æ³•è£¡</li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show</span></span></span><br><span class="line">  @page = Page.find(params[<span class="symbol">:id</span>])</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">create</span></span></span><br><span class="line">  @page = Page.create(page_params)</span><br><span class="line">    <span class="keyword">if</span> page.save</span><br><span class="line">      redirect_to pages_path</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      ender <span class="symbol">:new</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><br><ul><li>Proc</li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">%w(A B C)</span>.map(&amp;<span class="symbol">:to_sym</span>)      <span class="comment"># [:A, :B, :C]</span></span><br></pre></td></tr></table></figure><br><blockquote><p>å¤šæ•¸æ™‚å€™ String èˆ‡ Symbol å¯ä»¥äº’æ›ä½¿ç”¨ï¼Œä½†ä¹Ÿæœ‰åªèƒ½ä½¿ç”¨ Symbol æˆ– String çš„ç‹€æ³ï¼Œä½¿ç”¨å‰å‹™å¿…è©³é–± API æ‰‹å†Šã€‚</p></blockquote><br><hr><p>åƒè€ƒè³‡æ–™:<br><a href="https://ruby-doc.org/core-2.5.0/Symbol.html" target="_blank" rel="noopener">https://ruby-doc.org/core-2.5.0/Symbol.html</a><br><a href="https://docs.ruby-lang.org/ja/latest/class/Symbol.html" target="_blank" rel="noopener">https://docs.ruby-lang.org/ja/latest/class/Symbol.html</a><br><a href="https://kaochenlong.com/2016/04/25/string-and-symbol/" target="_blank" rel="noopener">https://kaochenlong.com/2016/04/25/string-and-symbol/</a><br><a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-rubysbl/index.html" target="_blank" rel="noopener">https://www.ibm.com/developerworks/cn/opensource/os-cn-rubysbl/index.html</a><br><a href="https://pjchender.github.io/2017/09/26/ruby-symbol%EF%BC%88%E7%AC%A6%E8%99%9F%EF%BC%89/" target="_blank" rel="noopener">https://pjchender.github.io/2017/09/26/ruby-symbol%EF%BC%88%E7%AC%A6%E8%99%9F%EF%BC%89/</a><br><a href="https://ithelp.ithome.com.tw/articles/10161202" target="_blank" rel="noopener">https://ithelp.ithome.com.tw/articles/10161202</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åœ¨å­¸ Ruby æ™‚ï¼Œå¸¸å¸¸æœƒçœ‹åˆ° :name ç­‰ï¼Œå‰é¢å¸¶æœ‰å†’è™Ÿçš„å­—ï¼Œé‚£åˆ°åº•æ˜¯ä»€éº¼å‘¢ï¼Ÿ&lt;/p&gt;
    
    </summary>
    
    
      <category term="å­¸ç¿’æ—¥èªŒ" scheme="https://chaichai.site/categories/%E5%AD%B8%E7%BF%92%E6%97%A5%E8%AA%8C/"/>
    
    
      <category term="å­¸ç¿’æ—¥èªŒ" scheme="https://chaichai.site/tags/%E5%AD%B8%E7%BF%92%E6%97%A5%E8%AA%8C/"/>
    
      <category term="Ruby" scheme="https://chaichai.site/tags/Ruby/"/>
    
      <category term="Rails" scheme="https://chaichai.site/tags/Rails/"/>
    
  </entry>
  
  <entry>
    <title>Welcome to Chai&#39;s Blog!</title>
    <link href="https://chaichai.site/2019/10/01/welcome/"/>
    <id>https://chaichai.site/2019/10/01/welcome/</id>
    <published>2019-09-30T16:00:00.000Z</published>
    <updated>2019-11-02T17:19:54.754Z</updated>
    
    <content type="html"><![CDATA[<p>Hi æˆ‘æ˜¯æŸ´æŸ´ï½</p><a id="more"></a><p>ç›®å‰å­¸ç¿’ç¨‹å¼å¤§ç´„ä¸‰å€‹æœˆï¼Œé€£ Junior éƒ½é‚„ä¸æ•¢è‡ªç¨± XD<br>ç”±æ–¼æˆ‘æ˜¯å€‹ä¸æŠ˜ä¸å£çš„èªè¨€å®…ï¼Œä¸è«–ä¸­æ–‡ã€è‹±æ–‡ã€æ—¥æ–‡ï¼Œé‚„æ˜¯ç¨‹å¼èªè¨€ï¼Œåªè¦æ˜¯é—œæ–¼èªè¨€çš„è©±é¡Œéƒ½æ­¡è¿èˆ‡æˆ‘äº¤æµï½<br>ç‚ºäº†æ•´ç†è‡ªå·±æ‰€å­¸çš„æ¦‚å¿µï¼Œé€™è£¡æ”¾äº†æˆ‘çš„å­¸ç¿’æ—¥èªŒï¼Œå¸Œæœ›å¯ä»¥å°è‡ªå·±å’Œæ‰¾å°‹è³‡æ–™çš„äººæœ‰ä¸€äº›å¹«åŠ©ï¼Œå¦‚æœæœ‰å¯«éŒ¯çš„åœ°æ–¹é‚„è«‹ä¸åæ–¼æŒ‡æ•™ã€‚</p><p>é™¤äº† blogï¼Œä¹Ÿå¯ä»¥åœ¨ Medium ä¸Šæ‰¾åˆ°æˆ‘å”·ï¼<br><a href="https://medium.com/@wown0710" target="_blank" rel="noopener">Chaiâ€™s Medium</a></p><p>ä¸€èµ·åŠ æ²¹ï¼Œæˆç‚ºå²å®³çš„å®…å®…å§ï¼</p><hr>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Hi æˆ‘æ˜¯æŸ´æŸ´ï½&lt;/p&gt;
    
    </summary>
    
    
      <category term="é›œè«‡" scheme="https://chaichai.site/categories/%E9%9B%9C%E8%AB%87/"/>
    
    
      <category term="é›œè«‡" scheme="https://chaichai.site/tags/%E9%9B%9C%E8%AB%87/"/>
    
  </entry>
  
</feed>
